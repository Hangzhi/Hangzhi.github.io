<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Yiwei">





<title>剑指Offer Python solution (完结) | Yiwei</title>



    <link rel="icon" href="/image/y_favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Yiwei&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Yiwei&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">剑指Offer Python solution (完结)</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Yiwei</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">April 22, 2021&nbsp;&nbsp;19:53:30</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="剑指-Offer-03-数组中重复的数字"><a href="#剑指-Offer-03-数组中重复的数字" class="headerlink" title="剑指 Offer 03. 数组中重复的数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/">剑指 Offer 03. 数组中重复的数字</a></h1><h2 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h2><h3 id="flip-num"><a href="#flip-num" class="headerlink" title="flip num"></a>flip num</h3><p>题目中的所有数字都在 0 ~ n-1 的范围内，所以可以将数组中的所有数字都看作 index。遍历数组，对所有当前指向的数字置为相反数，如果出现 &lt; 0 的数字，说明当前的 index 已经被置为相反数过了，当前的 index 就是一个重复数字。这其中有一个问题是 0，0 的相反数还是 0，所以如果是 0 在  index-0 但是之后又有重复的状况就会判别不出来，所以需要特别处理，比如说 [0, 1, 0]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRepeatNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        countz = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[<span class="built_in">abs</span>(nums[i])] &lt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">abs</span>(nums[i])</span><br><span class="line">            <span class="keyword">elif</span> nums[i] == <span class="number">0</span> :</span><br><span class="line">                countz += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> countz &gt; <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            nums[<span class="built_in">abs</span>(nums[i])] *= -<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="swap-num"><a href="#swap-num" class="headerlink" title="swap num"></a>swap num</h3><p>思路是做原地交换， 当前的值与 index 不相等的时候就进行当前值与指向值的交换，知道 nums[i] == nums[nums[i]] , 也就是说当前值和指向值是相等的，这有两种状况。第一种是 i == nums[i]，或者 nums[i] == nums[nums[i]] and  i != nums[i]，第二种状况就是找到了重复值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time(n) 90.67 %</span></span><br><span class="line">    <span class="comment"># Space(1) 41.00 %</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRepeatNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i != nums[i]:</span><br><span class="line">                <span class="keyword">while</span> nums[i] != nums[nums[i]]:</span><br><span class="line">                    tmp = nums[i]</span><br><span class="line">                    nums[i], nums[tmp] = nums[tmp] , nums[i]</span><br><span class="line">            <span class="keyword">if</span> i != nums[i] <span class="keyword">and</span> nums[i] == nums[nums[i]]:</span><br><span class="line">                <span class="keyword">return</span> nums[i]</span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-04-二维数组中的查找"><a href="#剑指-Offer-04-二维数组中的查找" class="headerlink" title="剑指 Offer 04. 二维数组中的查找"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/">剑指 Offer 04. 二维数组中的查找</a></h1><h2 id="solution-1"><a href="#solution-1" class="headerlink" title="solution"></a>solution</h2><p>搜索思路： [i,j] 左上的所有都是小于 当前数值的，[i,j] 右下的都是大于当前数值的。从右上角开始，如果比当前数值大，说明比本行及其下面的行都大，如果比当前数值小，说明本列及其右都小，所以可以按照如下规则。遇到比 target 小的，向下走一格，遇到比 target 大的，向左走一格。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(m+n) 99.08%</span></span><br><span class="line">    <span class="comment"># Space o(1) 20.58%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findNumberIn2DArray</span>(<span class="params">self, matrix: List[List[<span class="built_in">int</span>]], target: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        m = <span class="built_in">len</span>(matrix)</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        n = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        j = n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="number">0</span>&lt;= i &lt; m <span class="keyword">and</span>  <span class="number">0</span>&lt;= j &lt; n :</span><br><span class="line">            <span class="comment">#print(i,j)</span></span><br><span class="line">            <span class="keyword">if</span> target &gt; matrix[i][j]:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> target &lt; matrix[i][j]:</span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-05-替换空格"><a href="#剑指-Offer-05-替换空格" class="headerlink" title="剑指 Offer 05. 替换空格"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/">剑指 Offer 05. 替换空格</a></h1><h2 id="solution-2"><a href="#solution-2" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 54.61%</span></span><br><span class="line">    <span class="comment"># Space o(n) 5.31%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">replaceSpace</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>. join([<span class="string">&#x27;%20&#x27;</span> <span class="keyword">if</span> i == <span class="string">&#x27; &#x27;</span> <span class="keyword">else</span> i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">list</span>(s)])</span><br><span class="line">       </span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-06-从尾到头打印链表"><a href="#剑指-Offer-06-从尾到头打印链表" class="headerlink" title="剑指 Offer 06. 从尾到头打印链表"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/">剑指 Offer 06. 从尾到头打印链表</a></h1><h2 id="solution-3"><a href="#solution-3" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 60%</span></span><br><span class="line">    <span class="comment"># Space o(1) 41%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePrint</span>(<span class="params">self, head: ListNode</span>) -&gt; List[int]:</span></span><br><span class="line">        stack = []</span><br><span class="line">        cur = head</span><br><span class="line">        <span class="keyword">while</span> cur!= <span class="literal">None</span>:</span><br><span class="line">            stack.append(cur.val)</span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> stack[::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-07-重建二叉树"><a href="#剑指-Offer-07-重建二叉树" class="headerlink" title="剑指 Offer 07. 重建二叉树"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/">剑指 Offer 07. 重建二叉树</a></h1><h2 id="solution-4"><a href="#solution-4" class="headerlink" title="solution"></a>solution</h2><p>两种解法的思路是一致的，以如下列表为例，在前序遍历中，第一个元素一定是当前构建的根节点，在中序遍历中，所有左子树元素一定在根节点的左边，所有右子树元素一定在根节点的右边。通过这两个特性，首先从前序树第一个元素取到根节点，再从中序树中找到根节点，根节点之前的部分就是左子树，根节点之后的部分就是右子树。而左子树的长度是固定的，所以在前序遍历数组中的第一个元素后取同样的长度，就得到了左子树的前序遍历数组。同理可以得到右子树的的相关所需结果。</p>
<p>[3, |9,2,8,| 20,15,7]<br>[2,9,8,| 3, | 15,20,7]</p>
<h3 id="recursion-list-para"><a href="#recursion-list-para" class="headerlink" title="recursion + list para"></a>recursion + list para</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span>(<span class="params">self, preorder: List[<span class="built_in">int</span>], inorder: List[<span class="built_in">int</span>]</span>) -&gt; TreeNode:</span></span><br><span class="line">        <span class="comment"># Time o(n^2) 32.02%</span></span><br><span class="line">        <span class="comment"># Space o(n) 5.86%</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">build</span>(<span class="params">prel, inl</span>):</span></span><br><span class="line">            <span class="comment">#print(prel, inl)</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(prel) == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            value = prel[<span class="number">0</span>]</span><br><span class="line">            root = TreeNode(value)</span><br><span class="line">            idx_in_val = inl.index(value)</span><br><span class="line">            root.left = build(prel[<span class="number">1</span>: idx_in_val+<span class="number">1</span>], inl[:idx_in_val])</span><br><span class="line">            root.right = build(prel[idx_in_val+<span class="number">1</span>:],  inl[idx_in_val+<span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">return</span> root </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> build(preorder, inorder)</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h3 id="recursion-index-para"><a href="#recursion-index-para" class="headerlink" title="recursion + index para"></a>recursion + index para</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 67.73%</span></span><br><span class="line">    <span class="comment"># Space o(1) 89.10%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span>(<span class="params">self, preorder: List[<span class="built_in">int</span>], inorder: List[<span class="built_in">int</span>]</span>) -&gt; TreeNode:</span></span><br><span class="line">        <span class="comment"># Time o(n^2) 32.02%</span></span><br><span class="line">        <span class="comment"># Space o(n) 5.86%</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">build</span>(<span class="params">prl, inl, inr</span>):</span></span><br><span class="line">            <span class="comment">#print(prel, inl)</span></span><br><span class="line">            <span class="keyword">if</span> inl- inr == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            value = preorder[prl]</span><br><span class="line">            root = TreeNode(value)</span><br><span class="line">            lenl = inorder[inl:inr].index(value)</span><br><span class="line">                        </span><br><span class="line">            root.left = build(prl+<span class="number">1</span>,inl,inl+lenl )</span><br><span class="line">            root.right = build(prl + lenl + <span class="number">1</span>,inl+lenl+ <span class="number">1</span>,inr)</span><br><span class="line">            <span class="keyword">return</span> root </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> build(<span class="number">0</span>, <span class="number">0</span>, <span class="built_in">len</span>(inorder))</span><br></pre></td></tr></table></figure>

<h2 id="test-cases"><a href="#test-cases" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,15,7]</span><br><span class="line">[9,3,15,20,7]</span><br><span class="line">[2]</span><br><span class="line">[2]</span><br><span class="line">[]</span><br><span class="line">[]</span><br><span class="line">[3,9,2,8,20,15,7]</span><br><span class="line">[2,9,8,3,15,20,7]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-09-用两个栈实现队列"><a href="#剑指-Offer-09-用两个栈实现队列" class="headerlink" title="剑指 Offer 09. 用两个栈实现队列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/">剑指 Offer 09. 用两个栈实现队列</a></h1><p>两个 stak，一个用作 push，一个用作 pop。appendTail 将元素压入 stack 栈，deleteHead 时查看 pop 栈是否还有元素，如果空了就将 push 栈的元素倒入 pop 栈，否则 pop 栈顶的元素。</p>
<h2 id="solution-5"><a href="#solution-5" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CQueue</span>:</span></span><br><span class="line">    <span class="comment"># Time push o(1) delete o(1) on averaage 65.44%</span></span><br><span class="line">    <span class="comment"># Space o(n) 39.05%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.push_ = []</span><br><span class="line">        self.pop_ = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">appendTail</span>(<span class="params">self, value: <span class="built_in">int</span></span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        self.push_.append(value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteHead</span>(<span class="params">self</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> self.push_ == [] <span class="keyword">and</span> self.pop_ == []:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.pop_ != []:</span><br><span class="line">            <span class="keyword">return</span> self.pop_.pop()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span> self.push_ != []:</span><br><span class="line">                self.pop_.append(self.push_.pop())</span><br><span class="line">            <span class="keyword">return</span> self.pop_.pop()</span><br><span class="line">           </span><br></pre></td></tr></table></figure>

<h2 id="test-Cases"><a href="#test-Cases" class="headerlink" title="test Cases"></a>test Cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[&quot;CQueue&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[3],[],[]]</span><br><span class="line">[&quot;CQueue&quot;,&quot;deleteHead&quot;,&quot;appendTail&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[],[5],[2],[],[]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-10-I-斐波那契数列"><a href="#剑指-Offer-10-I-斐波那契数列" class="headerlink" title="剑指 Offer 10- I. 斐波那契数列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/">剑指 Offer 10- I. 斐波那契数列</a></h1><h2 id="solution-6"><a href="#solution-6" class="headerlink" title="solution"></a>solution</h2><h3 id="iteration"><a href="#iteration" class="headerlink" title="iteration"></a>iteration</h3><p>新 python3 可以处理长整数，为了节约时间，只需要在返回前进行 mod 操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 80.47%</span></span><br><span class="line">    <span class="comment"># Space o(1) 43.41%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        pre1 = <span class="number">0</span></span><br><span class="line">        pre2 = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">            tmp = (pre1 + pre2) </span><br><span class="line">            pre1 = pre2</span><br><span class="line">            pre2 = tmp</span><br><span class="line">        <span class="keyword">return</span> pre2 % MOD</span><br></pre></td></tr></table></figure>
<h3 id="recursion"><a href="#recursion" class="headerlink" title="recursion"></a>recursion</h3><p>recursion 会溢出，使用 lru_cache 来避免这个问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 28.09%</span></span><br><span class="line">    <span class="comment"># Space o(1) 5.14%</span></span><br><span class="line"><span class="meta">    @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        <span class="keyword">return</span> (self.fib(n-<span class="number">1</span>) + self.fib(n-<span class="number">2</span>)) % <span class="number">1000000007</span></span><br></pre></td></tr></table></figure>

<h2 id="test-cases-1"><a href="#test-cases-1" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">100</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-10-II-青蛙跳台阶问题"><a href="#剑指-Offer-10-II-青蛙跳台阶问题" class="headerlink" title="剑指 Offer 10- II. 青蛙跳台阶问题"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/">剑指 Offer 10- II. 青蛙跳台阶问题</a></h1><h2 id="solution-7"><a href="#solution-7" class="headerlink" title="solution"></a>solution</h2><p>与 10-i 同思路，只是停止条件不同</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time 28.41%</span></span><br><span class="line">    <span class="comment"># Space 5.09%</span></span><br><span class="line"><span class="meta">    @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numWays</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> (self.numWays(n-<span class="number">1</span>) + self.numWays(n-<span class="number">2</span>)) % MOD</span><br></pre></td></tr></table></figure>





<h1 id="剑指-Offer-11-旋转数组的最小数字"><a href="#剑指-Offer-11-旋转数组的最小数字" class="headerlink" title="剑指 Offer 11. 旋转数组的最小数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/">剑指 Offer 11. 旋转数组的最小数字</a></h1><h2 id="solution-8"><a href="#solution-8" class="headerlink" title="solution"></a>solution</h2><p>遍历，如果出现了非递增元素，就会是最小的那个。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 95.86%</span></span><br><span class="line">    <span class="comment"># Space o(1) 29.30%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minArray</span>(<span class="params">self, numbers: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        pre = numbers[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> numbers[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">if</span> i &lt; pre:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">            pre  =  i</span><br><span class="line">        <span class="keyword">return</span> numbers[<span class="number">0</span>]</span><br><span class="line">            </span><br></pre></td></tr></table></figure>

<p>备注：因为允许重复数字出现，本题不能使用二分法</p>
<p>比如说 [3,3,3,3,3,3,1,3]，无法判断最小值到底是在左边还是在右边</p>
<h2 id="test-cases-2"><a href="#test-cases-2" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[1,3,5]</span><br><span class="line">[2,3,4,1]</span><br><span class="line">[3,4,5,1,2]</span><br><span class="line">[0]</span><br><span class="line">[2,2,2,0,1]</span><br><span class="line">[2,2,2]</span><br><span class="line"># wrong answer</span><br><span class="line">[1,3,3]</span><br><span class="line">[3,1,3]</span><br><span class="line">[3,3,3,3,3,3,3,3,1,3]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-12-矩阵中的路径"><a href="#剑指-Offer-12-矩阵中的路径" class="headerlink" title="剑指 Offer 12. 矩阵中的路径"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/">剑指 Offer 12. 矩阵中的路径</a></h1><h2 id="solution-9"><a href="#solution-9" class="headerlink" title="solution"></a>solution</h2><p>使用 dfs 的思路求解，但需要注意的是两个细节。(a) 重复路径不是通过记录路径，而是通过标记路径，recursion之后再恢复来实现的，这样可以节省空间。(b) dfs 的深度是固定的 len(word)，已经遍历 matrix 来作为起始点了，所以遍历的深度不是遍历到无路可走而是没有按位符合 word 中的元素。</p>
<h3 id="dfs-recover-node"><a href="#dfs-recover-node" class="headerlink" title="dfs + recover node"></a>dfs + recover node</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n*m*d) 92.83%</span></span><br><span class="line">    <span class="comment"># Space o(m*n) 48.64%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exist</span>(<span class="params">self, board: List[List[<span class="built_in">str</span>]], word: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(board) == <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(word) == <span class="number">0</span>:</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        m, n = <span class="built_in">len</span>(board), <span class="built_in">len</span>(board[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x, y, cur</span>):</span></span><br><span class="line">            <span class="keyword">if</span> x&lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= m <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= n <span class="keyword">or</span> word[cur] != board[x][y]:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            ch = board[x][y]</span><br><span class="line">            board[x][y] = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            </span><br><span class="line">            cur += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cur == <span class="built_in">len</span>(word):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">            ans = dfs(x+<span class="number">1</span>, y, cur) <span class="keyword">or</span> dfs(x-<span class="number">1</span>, y, cur) <span class="keyword">or</span> dfs(x, y+<span class="number">1</span>, cur) <span class="keyword">or</span> dfs(x, y-<span class="number">1</span>, cur)</span><br><span class="line">            board[x][y] = ch</span><br><span class="line">            <span class="keyword">return</span>  ans </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> dfs(i, j, <span class="number">0</span>):</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span>  <span class="literal">False</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h2 id="test-cases-3"><a href="#test-cases-3" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[[&quot;a&quot;,&quot;b&quot;],[&quot;c&quot;,&quot;d&quot;]]</span><br><span class="line">&quot;dbac&quot;</span><br><span class="line">[[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],[&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],[&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]]</span><br><span class="line">&quot;ABCCED&quot;</span><br><span class="line"> [[&quot;a&quot;,&quot;b&quot;],[&quot;c&quot;,&quot;d&quot;]]</span><br><span class="line">&quot;abcd&quot;</span><br><span class="line">[[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;e&quot;],[&quot;s&quot;,&quot;f&quot;,&quot;c&quot;,&quot;s&quot;],[&quot;a&quot;,&quot;d&quot;,&quot;e&quot;,&quot;e&quot;]]</span><br><span class="line">&quot;bafb&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-13-机器人的运动范围"><a href="#剑指-Offer-13-机器人的运动范围" class="headerlink" title="剑指 Offer 13. 机器人的运动范围"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ji-qi-ren-de-yun-dong-fan-wei-lcof/">剑指 Offer 13. 机器人的运动范围</a></h1><h2 id="solution-10"><a href="#solution-10" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(mn) 54.49%</span></span><br><span class="line">    <span class="comment"># Space o(mn) 66.66% </span></span><br><span class="line">    <span class="comment"># Date 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">movingCount</span>(<span class="params">self, m: <span class="built_in">int</span>, n: <span class="built_in">int</span>, k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">countBit</span>(<span class="params">x, y</span>):</span></span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">while</span> x &gt; <span class="number">0</span>:</span><br><span class="line">                count += x % <span class="number">10</span></span><br><span class="line">                x = x // <span class="number">10</span></span><br><span class="line">            <span class="keyword">while</span> y &gt; <span class="number">0</span>:</span><br><span class="line">                count += y % <span class="number">10</span></span><br><span class="line">                y = y // <span class="number">10</span></span><br><span class="line">            <span class="keyword">return</span> count</span><br><span class="line">        </span><br><span class="line">        mx = [[<span class="number">0</span>] * (n + <span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m+<span class="number">1</span>)]</span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        mx[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, m + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> countBit(i-<span class="number">1</span>, j-<span class="number">1</span>) &gt; k:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> mx[i-<span class="number">1</span>][j] == <span class="number">0</span> <span class="keyword">and</span> mx[i][j-<span class="number">1</span>] == <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                mx[i][j] = <span class="number">1</span></span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<h2 id="test-cases-4"><a href="#test-cases-4" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">37</span></span><br><span class="line"><span class="number">28</span></span><br><span class="line"><span class="number">15</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-14-II-剪绳子-II"><a href="#剑指-Offer-14-II-剪绳子-II" class="headerlink" title="剑指 Offer 14- II. 剪绳子 II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/jian-sheng-zi-ii-lcof/">剑指 Offer 14- II. 剪绳子 II</a></h1><h2 id="solution-11"><a href="#solution-11" class="headerlink" title="solution"></a>solution</h2><p>思路和 14 - I 相同. Python 可以处理任意长度超大整数, 所以在返回前进行 MOD 即可.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 39.41%</span></span><br><span class="line">    <span class="comment"># Space o(1) 87.76%</span></span><br><span class="line">    <span class="comment"># date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cuttingRope</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">2</span> <span class="keyword">or</span> n == <span class="number">3</span>:</span><br><span class="line">            <span class="keyword">return</span> n - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> n <span class="keyword">not</span> <span class="keyword">in</span> (<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>):</span><br><span class="line">            ans *= <span class="number">3</span></span><br><span class="line">            n -= <span class="number">3</span></span><br><span class="line">        <span class="keyword">if</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            ans *= n</span><br><span class="line">        ans %= MOD</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    </span><br><span class="line">        </span><br><span class="line">        </span><br></pre></td></tr></table></figure>



<h2 id="test-cases-5"><a href="#test-cases-5" class="headerlink" title="test cases"></a>test cases</h2><h1 id="剑指-Offer-14-I-剪绳子"><a href="#剑指-Offer-14-I-剪绳子" class="headerlink" title="剑指 Offer 14- I. 剪绳子"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/jian-sheng-zi-lcof/">剑指 Offer 14- I. 剪绳子</a></h1><h2 id="solution-12"><a href="#solution-12" class="headerlink" title="solution"></a>solution</h2><h3 id="trivial-dp1"><a href="#trivial-dp1" class="headerlink" title="trivial dp1"></a>trivial dp1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n^3) 7.26%</span></span><br><span class="line">    <span class="comment"># Space o(n) 43.99%</span></span><br><span class="line">    <span class="comment"># date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cuttingRope</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        pre = [<span class="number">0</span>] * (n + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">            pre[i] = i</span><br><span class="line">        cur = [<span class="number">0</span>] * (n + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n+<span class="number">1</span>):</span><br><span class="line">                cur[i] = pre[i]</span><br><span class="line">                <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, i):</span><br><span class="line">                    cur[i] = <span class="built_in">max</span>(cur[i], pre[k]*(i-k))</span><br><span class="line">            pre, cur = cur, pre</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(pre)</span><br></pre></td></tr></table></figure>

<h3 id="dp-2"><a href="#dp-2" class="headerlink" title="dp 2"></a>dp 2</h3><p>动态规划的思路, 在过程中加入可能的乘数.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n^2) 27.98%</span></span><br><span class="line">    <span class="comment"># Space o(n) 28.57%</span></span><br><span class="line">    <span class="comment"># date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cuttingRope</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        pre = [<span class="number">0</span>] * (n+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,n+<span class="number">1</span>):</span><br><span class="line">            pre[i] = i-<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>,n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>,i):</span><br><span class="line">                pre[i] = <span class="built_in">max</span>(pre[i], j *(i - j), j * pre[i-j])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(pre)</span><br></pre></td></tr></table></figure>

<h3 id="math"><a href="#math" class="headerlink" title="math"></a>math</h3><p>拆出尽可能多的 3 直到只剩 2 或者 4</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n^3) 27.98%</span></span><br><span class="line">    <span class="comment"># Space o(n) 28.57%</span></span><br><span class="line">    <span class="comment"># date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">cuttingRope</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">3</span> <span class="keyword">or</span> n == <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> n - <span class="number">1</span></span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> n <span class="keyword">not</span> <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>):</span><br><span class="line">            n -= <span class="number">3</span></span><br><span class="line">            ans *= <span class="number">3</span></span><br><span class="line">        <span class="keyword">if</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            ans *= n</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>背后的数学原理: <a target="_blank" rel="noopener" href="https://leetcode.com/problems/integer-break/discuss/80721/Why-factor-2-or-3-The-math-behind-this-problem">https://leetcode.com/problems/integer-break/discuss/80721/Why-factor-2-or-3-The-math-behind-this-problem</a>.</p>
<p>求导, 最佳是 e</p>
<h2 id="test-cases-6"><a href="#test-cases-6" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4</span><br><span class="line">16</span><br><span class="line">27</span><br><span class="line">10</span><br><span class="line">32</span><br><span class="line">28</span><br><span class="line">58            </span><br></pre></td></tr></table></figure>

<p>wrong cases</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-15-二进制中1的个数"><a href="#剑指-Offer-15-二进制中1的个数" class="headerlink" title="剑指 Offer 15. 二进制中1的个数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-jin-zhi-zhong-1de-ge-shu-lcof/">剑指 Offer 15. 二进制中1的个数</a></h1><h2 id="solution-13"><a href="#solution-13" class="headerlink" title="solution"></a>solution</h2><h3 id="bit-manipulation"><a href="#bit-manipulation" class="headerlink" title="bit manipulation"></a>bit manipulation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 40.38%</span></span><br><span class="line">    <span class="comment"># Space o(1) 62.81%</span></span><br><span class="line">    <span class="comment"># date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hammingWeight</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">            count += n &amp; <span class="number">1</span> <span class="comment"># mod 2</span></span><br><span class="line">            n &gt;&gt;= <span class="number">1</span>  <span class="comment"># //2</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br></pre></td></tr></table></figure>

<h3 id="built-in-function"><a href="#built-in-function" class="headerlink" title="built-in function"></a>built-in function</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 8.11%</span></span><br><span class="line">    <span class="comment"># Space o(1) 57.56%</span></span><br><span class="line">    <span class="comment"># date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hammingWeight</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">bin</span>(n).count(<span class="string">&#x27;1&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-16-数值的整数次方"><a href="#剑指-Offer-16-数值的整数次方" class="headerlink" title="剑指 Offer 16. 数值的整数次方"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-zhi-de-zheng-shu-ci-fang-lcof/">剑指 Offer 16. 数值的整数次方</a></h1><h2 id="solution-14"><a href="#solution-14" class="headerlink" title="solution"></a>solution</h2><h3 id="recursion-1"><a href="#recursion-1" class="headerlink" title="recursion"></a>recursion</h3><p>recursion 此消彼长, 没有重复计算</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="meta">@ lru_cache</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(logn) 95.45%</span></span><br><span class="line">    <span class="comment"># Space o(1) 73.93%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">myPow</span>(<span class="params">self, x: <span class="built_in">float</span>, n: <span class="built_in">int</span></span>) -&gt; float:</span></span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> n &lt; <span class="number">0</span>:</span><br><span class="line">            x = <span class="number">1</span>/x</span><br><span class="line">            n = <span class="built_in">abs</span>(n)</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.myPow(x*x,n//<span class="number">2</span>) <span class="keyword">if</span> n &amp; <span class="number">1</span> != <span class="number">1</span> <span class="keyword">else</span> x * self.myPow(x*x, n//<span class="number">2</span>)</span><br><span class="line">       </span><br></pre></td></tr></table></figure>



<h2 id="test-cases-7"><a href="#test-cases-7" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0.00001</span><br><span class="line">2147483647</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-17-打印从1到最大的n位数"><a href="#剑指-Offer-17-打印从1到最大的n位数" class="headerlink" title="剑指 Offer 17. 打印从1到最大的n位数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/da-yin-cong-1dao-zui-da-de-nwei-shu-lcof/">剑指 Offer 17. 打印从1到最大的n位数</a></h1><h2 id="solution-15"><a href="#solution-15" class="headerlink" title="solution"></a>solution</h2><h3 id><a href="#" class="headerlink" title=".."></a>..</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printNumbers</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="comment"># Time o(10^n) 5.57%</span></span><br><span class="line">        <span class="comment"># Space o(10^n) 5.01%</span></span><br><span class="line">        <span class="comment"># date: 20210309</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bfs</span>(<span class="params">s, ans</span>):</span></span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">len</span>(s) &gt; <span class="number">0</span>:</span><br><span class="line">                cur = s.pop(<span class="number">0</span>)</span><br><span class="line">                ans.append(<span class="built_in">int</span>(cur))</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(cur) == n:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):</span><br><span class="line">                    s.append(cur + <span class="built_in">chr</span>(<span class="built_in">ord</span>(<span class="string">&#x27;0&#x27;</span>) + i))</span><br><span class="line">        s = [<span class="built_in">chr</span>(<span class="built_in">ord</span>(<span class="string">&#x27;0&#x27;</span>) + i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>)]</span><br><span class="line">        ans = []</span><br><span class="line">        bfs(s, ans)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-18-删除链表的节点"><a href="#剑指-Offer-18-删除链表的节点" class="headerlink" title="剑指 Offer 18. 删除链表的节点"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shan-chu-lian-biao-de-jie-dian-lcof/">剑指 Offer 18. 删除链表的节点</a></h1><h2 id="solution-16"><a href="#solution-16" class="headerlink" title="solution"></a>solution</h2><p>剑指 offer 的本意是希望以 o（1） 的时间删除链表内部节点的同时，考虑多种情况。（1）目标节点不在尾部且链表长度大于1，（2）目标节点在尾部（3） 链表长度为 1 且目标节点就是头节点。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 48.39%</span></span><br><span class="line">    <span class="comment"># Space o(n) 36.66%</span></span><br><span class="line">    <span class="comment"># Date 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteNode</span>(<span class="params">self, head: ListNode, val: <span class="built_in">int</span></span>) -&gt; ListNode:</span></span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">findTarget</span>(<span class="params">head, value</span>):</span></span><br><span class="line">            cur = head</span><br><span class="line">            <span class="keyword">while</span> cur:</span><br><span class="line">                <span class="keyword">if</span> cur.val == value:</span><br><span class="line">                    <span class="keyword">return</span> cur</span><br><span class="line">                cur = cur.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">removeNode</span>(<span class="params">head, target</span>):</span></span><br><span class="line">            <span class="comment"># remove Node o(1)</span></span><br><span class="line">            <span class="keyword">if</span> target.<span class="built_in">next</span>:</span><br><span class="line">                target.val = target.<span class="built_in">next</span>.val</span><br><span class="line">                target.<span class="built_in">next</span> = target.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            cur = head</span><br><span class="line">            <span class="comment"># remove tail Nonde o(n)</span></span><br><span class="line">            <span class="keyword">while</span> cur <span class="keyword">and</span> cur.<span class="built_in">next</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> cur.<span class="built_in">next</span>.<span class="built_in">next</span>:</span><br><span class="line">                    cur.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line">                cur = cur.<span class="built_in">next</span></span><br><span class="line">             </span><br><span class="line">                </span><br><span class="line">        target = findTarget(head, val)</span><br><span class="line">        <span class="comment">#print(target)</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> target:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line">        <span class="comment"># remove head None </span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head.<span class="built_in">next</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        removeNode(head,target)</span><br><span class="line">        <span class="keyword">return</span> head</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-19-正则表达式匹配"><a href="#剑指-Offer-19-正则表达式匹配" class="headerlink" title="剑指 Offer 19. 正则表达式匹配"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zheng-ze-biao-da-shi-pi-pei-lcof/">剑指 Offer 19. 正则表达式匹配</a></h1><h2 id="solution-17"><a href="#solution-17" class="headerlink" title="solution"></a>solution</h2><h3 id="dp"><a href="#dp" class="headerlink" title="dp"></a>dp</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">dp[i][j]: s[:i+1] - p[:j+1] 的匹配情况</span><br><span class="line">1. s[i] &#x3D;&#x3D; p[j] or p[j] &#x3D;&#x3D; &#39;.&#39; : dp[i][j] &#x3D; dp[i-1][j-1]</span><br><span class="line">2. p[j] &#x3D;&#x3D; &#39;*&#39;:</span><br><span class="line">	1. if s[i] &#x3D;&#x3D; p[j-1]  or p[j-1] &#x3D;&#x3D; &#39;.&#39;:</span><br><span class="line">		dp[i][j] &#x3D; s[i-1][j] &#x2F;&#x2F; counts multiple a in a*</span><br><span class="line">        or dp[i][j] &#x3D; s[i][j-1] &#x2F;&#x2F; counts a single a in a*</span><br><span class="line">		or dp[i][j] &#x3D; s[i][j-2] &#x2F;&#x2F; counts empty a in a*</span><br><span class="line">	2. not match </span><br><span class="line">		dp[i][j] &#x3D; s[i][j-2] &#x2F;&#x2F; a* counts as empty</span><br><span class="line">	</span><br><span class="line">		</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(|s|*|p|) 72.68 %</span></span><br><span class="line">    <span class="comment"># Space o(|s|*|p|) 48.28%</span></span><br><span class="line">    <span class="comment"># Date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span>(<span class="params">self, s: <span class="built_in">str</span>, p: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        ns = <span class="built_in">len</span>(s)</span><br><span class="line">        np = <span class="built_in">len</span>(p)</span><br><span class="line">        s = <span class="string">&#x27;#&#x27;</span> + s</span><br><span class="line">        p = <span class="string">&#x27;#&#x27;</span> + p</span><br><span class="line">        </span><br><span class="line">        pre = [<span class="literal">False</span>]* (np+<span class="number">1</span>)</span><br><span class="line">        pre[<span class="number">0</span>] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># initiate with a* pattern for true</span></span><br><span class="line">        <span class="comment"># &#x27;&#x27; mathes &#x27;.*&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,np+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> p[i] == <span class="string">&#x27;*&#x27;</span> <span class="keyword">and</span> pre[i-<span class="number">2</span>]:</span><br><span class="line">                pre[i] = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, ns + <span class="number">1</span>):</span><br><span class="line">            cur = [<span class="literal">False</span>]* (np+<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, np + <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> s[i] == p[j] <span class="keyword">or</span> p[j] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                    <span class="comment">#print(i,j)</span></span><br><span class="line">                    <span class="comment">#print(s[i],p[j])</span></span><br><span class="line">                    cur[j] = pre[j-<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">elif</span> p[j] == <span class="string">&#x27;*&#x27;</span> <span class="keyword">and</span> j &gt; <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">if</span> s[i] == p[j-<span class="number">1</span>] <span class="keyword">or</span> p[j-<span class="number">1</span>] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                        <span class="comment"># multiple a</span></span><br><span class="line">                        <span class="keyword">if</span> i &gt;= <span class="number">1</span>:</span><br><span class="line">                            cur[j] = cur[j] <span class="keyword">or</span> pre[j]</span><br><span class="line">                        <span class="comment"># counts no a</span></span><br><span class="line">                        <span class="keyword">if</span> j &gt;= <span class="number">2</span>:</span><br><span class="line">                            cur[j] = cur[j] <span class="keyword">or</span> cur[j-<span class="number">2</span>]</span><br><span class="line">                        <span class="comment"># counts one a</span></span><br><span class="line">                        <span class="keyword">if</span> j &gt;= <span class="number">1</span>:</span><br><span class="line">                            cur[j] = cur[j] <span class="keyword">or</span> cur[j-<span class="number">1</span>]</span><br><span class="line">                    <span class="keyword">elif</span> j&gt;= <span class="number">2</span>:</span><br><span class="line">                        cur[j] = cur[j] <span class="keyword">or</span> cur[j-<span class="number">2</span>]</span><br><span class="line">            cur, pre = pre, cur</span><br><span class="line">        <span class="comment">#print(dp)</span></span><br><span class="line">        <span class="keyword">return</span> pre[-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>



<h3 id="recursion-2"><a href="#recursion-2" class="headerlink" title="recursion"></a>recursion</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o((|s| + |p|) * 2 ^ (|s| + |p|)) 12.56%</span></span><br><span class="line">    <span class="comment"># Space o(|s| + |p|) 13.44 %</span></span><br><span class="line">    <span class="comment"># Date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span>(<span class="params">self, s: <span class="built_in">str</span>, p: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        ns = <span class="built_in">len</span>(s)</span><br><span class="line">        np = <span class="built_in">len</span>(p)</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">ifMatch</span>(<span class="params">sid, pid</span>):</span></span><br><span class="line">            <span class="keyword">if</span> pid == np:</span><br><span class="line">                <span class="keyword">return</span> sid == ns</span><br><span class="line">            <span class="comment"># case without duplicate</span></span><br><span class="line">            <span class="keyword">if</span> pid + <span class="number">1</span> == np <span class="keyword">or</span> p[pid + <span class="number">1</span>] !=<span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">                <span class="keyword">if</span> sid == ns:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                <span class="keyword">if</span> s[sid] == p[pid] <span class="keyword">or</span> p[pid] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                    <span class="keyword">return</span> ifMatch(sid + <span class="number">1</span>, pid + <span class="number">1</span>)</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="comment"># case with *</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                i = -<span class="number">1</span></span><br><span class="line">                <span class="keyword">while</span> i == -<span class="number">1</span> <span class="keyword">or</span> s[sid+i] == p[pid] <span class="keyword">or</span> p[pid] == <span class="string">&#x27;.&#x27;</span>:</span><br><span class="line">                    <span class="keyword">if</span> ifMatch(sid + i + <span class="number">1</span>, pid + <span class="number">2</span>):</span><br><span class="line">                        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> sid + i == ns:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> ifMatch(<span class="number">0</span>,<span class="number">0</span>)</span><br><span class="line">    </span><br></pre></td></tr></table></figure>



<h2 id="test-cases-8"><a href="#test-cases-8" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&quot;ab&quot;</span><br><span class="line">&quot;.*ab&quot;</span><br><span class="line">&quot;aa&quot;</span><br><span class="line">&quot;a&quot;</span><br><span class="line">&quot;aa&quot;</span><br><span class="line">&quot;a*&quot;</span><br><span class="line">&quot;ab&quot;</span><br><span class="line">&quot;.*&quot;</span><br><span class="line">&quot;aab&quot;</span><br><span class="line">&quot;c*a*b&quot;</span><br><span class="line">&quot;mississippi&quot;</span><br><span class="line">&quot;mis*is*p*.&quot;</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-21-调整数组顺序使奇数位于偶数前面"><a href="#剑指-Offer-21-调整数组顺序使奇数位于偶数前面" class="headerlink" title="剑指 Offer 21. 调整数组顺序使奇数位于偶数前面"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/diao-zheng-shu-zu-shun-xu-shi-qi-shu-wei-yu-ou-shu-qian-mian-lcof/">剑指 Offer 21. 调整数组顺序使奇数位于偶数前面</a></h1><h2 id="solution-18"><a href="#solution-18" class="headerlink" title="solution"></a>solution</h2><p>使用前后两个指针，维护p_od及之前都为奇数，p_ev及之后都为偶数。如果出现违反当前规则的状况，交换所指向的元素。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 66.17%</span></span><br><span class="line">    <span class="comment"># Space o(1) 56.74%</span></span><br><span class="line">    <span class="comment"># Date 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exchange</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; List[int]:</span></span><br><span class="line">        p_od = <span class="number">0</span></span><br><span class="line">        p_ev = <span class="built_in">len</span>(nums) -<span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> p_od &lt; p_ev:</span><br><span class="line">            <span class="keyword">if</span> nums[p_od] &amp; <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">                p_od += <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">while</span> p_od &lt; p_ev <span class="keyword">and</span> nums[p_ev] &amp; <span class="number">1</span> == <span class="number">0</span>:</span><br><span class="line">                    p_ev -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> p_od != p_ev:</span><br><span class="line">                    nums[p_od], nums[p_ev] = nums[p_ev], nums[p_od]</span><br><span class="line">        <span class="keyword">return</span> nums</span><br></pre></td></tr></table></figure>

<h2 id="Test-Cases"><a href="#Test-Cases" class="headerlink" title="Test Cases"></a>Test Cases</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">[<span class="number">1</span>,<span class="number">3</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">4</span>]</span><br><span class="line">[<span class="number">2</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-22-链表中倒数第k个节点"><a href="#剑指-Offer-22-链表中倒数第k个节点" class="headerlink" title="剑指 Offer 22. 链表中倒数第k个节点"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/lian-biao-zhong-dao-shu-di-kge-jie-dian-lcof/">剑指 Offer 22. 链表中倒数第k个节点</a></h1><h2 id="solution-19"><a href="#solution-19" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 96.04%</span></span><br><span class="line">    <span class="comment"># Space o(1) 30.69%</span></span><br><span class="line">    <span class="comment"># Date o(20210309)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getKthFromEnd</span>(<span class="params">self, head: ListNode, k: <span class="built_in">int</span></span>) -&gt; ListNode:</span></span><br><span class="line">        pre = head</span><br><span class="line">        cur = head</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">            <span class="keyword">if</span> pre:</span><br><span class="line">                pre = pre.<span class="built_in">next</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> pre:</span><br><span class="line">            pre = pre.<span class="built_in">next</span></span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> cur</span><br></pre></td></tr></table></figure>

<h2 id="test-cases-9"><a href="#test-cases-9" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[1,2,3,4,5]</span><br><span class="line">5</span><br><span class="line">[1,2,3,4,5]</span><br><span class="line">1</span><br><span class="line">[1,2,3,4,5]</span><br><span class="line">3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-24-反转链表"><a href="#剑指-Offer-24-反转链表" class="headerlink" title="剑指 Offer 24. 反转链表"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/fan-zhuan-lian-biao-lcof/">剑指 Offer 24. 反转链表</a></h1><h2 id="solution-20"><a href="#solution-20" class="headerlink" title="solution"></a>solution</h2><p>从链表头开始遍历，将新的 Node 接在当前新链表之后。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 98.47%</span></span><br><span class="line">    <span class="comment"># Space o(n) 24.01%</span></span><br><span class="line">    <span class="comment"># Date: 20210309</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseList</span>(<span class="params">self, head: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        cur = head</span><br><span class="line">        rehead = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            node = ListNode(cur.val)</span><br><span class="line">            node.<span class="built_in">next</span> = rehead</span><br><span class="line">            rehead = node</span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> rehead</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-25-合并两个排序的链表"><a href="#剑指-Offer-25-合并两个排序的链表" class="headerlink" title="剑指 Offer 25. 合并两个排序的链表"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/he-bing-liang-ge-pai-xu-de-lian-biao-lcof/">剑指 Offer 25. 合并两个排序的链表</a></h1><h2 id="solution-21"><a href="#solution-21" class="headerlink" title="solution"></a>solution</h2><h3 id="iteration-新空间"><a href="#iteration-新空间" class="headerlink" title="iteration + 新空间"></a>iteration + 新空间</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 24.44%</span></span><br><span class="line">    <span class="comment"># Space o(n) 20.67%</span></span><br><span class="line">    <span class="comment"># Date 20210310</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeTwoLists</span>(<span class="params">self, l1: ListNode, l2: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> l1) <span class="keyword">and</span> (<span class="keyword">not</span> l2):</span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> l1:</span><br><span class="line">            <span class="keyword">return</span> l2</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> l2:</span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        <span class="comment"># l3</span></span><br><span class="line">        <span class="comment"># keep removing the smaller one from l1 and l2</span></span><br><span class="line">        head = ListNode(<span class="literal">None</span>)</span><br><span class="line">        cur = head</span><br><span class="line">        <span class="keyword">while</span> l1 <span class="keyword">and</span> l2:</span><br><span class="line">            curval = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> l1.val &lt;= l2.val:</span><br><span class="line">                curval = l1.val</span><br><span class="line">                l1 = l1.<span class="built_in">next</span></span><br><span class="line">                </span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                curval = l2.val</span><br><span class="line">                l2 = l2.<span class="built_in">next</span></span><br><span class="line">            node = ListNode(curval)</span><br><span class="line">            cur.<span class="built_in">next</span> = node</span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">if</span> l1:</span><br><span class="line">            cur.<span class="built_in">next</span> = l1</span><br><span class="line">        <span class="keyword">if</span> l2:</span><br><span class="line">            cur.<span class="built_in">next</span> = l2</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> head.<span class="built_in">next</span></span><br></pre></td></tr></table></figure>

<h3 id="recursion-3"><a href="#recursion-3" class="headerlink" title="recursion"></a>recursion</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 60.30%</span></span><br><span class="line">    <span class="comment"># Space o(n) 5.04%</span></span><br><span class="line">    <span class="comment"># Date 20210310</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mergeTwoLists</span>(<span class="params">self, l1: ListNode, l2: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">not</span> l1) <span class="keyword">and</span> (<span class="keyword">not</span> l2):</span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> l1:</span><br><span class="line">            <span class="keyword">return</span> l2</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> l2:</span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        <span class="comment"># l3</span></span><br><span class="line">        <span class="comment"># keep removing the smaller one from l1 and l2</span></span><br><span class="line">        <span class="keyword">if</span> l1.val &lt;= l2.val:</span><br><span class="line">            l1.<span class="built_in">next</span> = self.mergeTwoLists(l1.<span class="built_in">next</span>, l2)</span><br><span class="line">            <span class="keyword">return</span> l1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            l2.<span class="built_in">next</span> = self.mergeTwoLists(l1, l2.<span class="built_in">next</span>)</span><br><span class="line">            <span class="keyword">return</span> l2</span><br></pre></td></tr></table></figure>



<h2 id="test-cases-10"><a href="#test-cases-10" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[1,2,4]</span><br><span class="line">[1,3,4]</span><br><span class="line">[]</span><br><span class="line">[1]</span><br><span class="line">[1]</span><br><span class="line">[]</span><br><span class="line">[1,2,3]</span><br><span class="line">[5,6,7]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-27-二叉树的镜像"><a href="#剑指-Offer-27-二叉树的镜像" class="headerlink" title="剑指 Offer 27. 二叉树的镜像"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-cha-shu-de-jing-xiang-lcof/">剑指 Offer 27. 二叉树的镜像</a></h1><h2 id="solution-22"><a href="#solution-22" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(logn)  59.51%</span></span><br><span class="line">    <span class="comment"># Space o(1) 82.99%</span></span><br><span class="line">    <span class="comment"># Date 20210310</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">mirrorTree</span>(<span class="params">self, root: TreeNode</span>) -&gt; TreeNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line">        root.left, root.right = root.right, root.left</span><br><span class="line">        root.left = self.mirrorTree(root.left)</span><br><span class="line">        root.right = self.mirrorTree(root.right)</span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>

<h2 id="test-cases-11"><a href="#test-cases-11" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[4,2,7,1,3,6,9]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-28-对称的二叉树"><a href="#剑指-Offer-28-对称的二叉树" class="headerlink" title="剑指 Offer 28. 对称的二叉树"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/dui-cheng-de-er-cha-shu-lcof/">剑指 Offer 28. 对称的二叉树</a></h1><h2 id="solution-23"><a href="#solution-23" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(logn) 80.31%</span></span><br><span class="line">    <span class="comment"># Space o(1) 62.01%</span></span><br><span class="line">    <span class="comment"># Date: 20210310</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isSymmetric</span>(<span class="params">self, root: TreeNode</span>) -&gt; bool:</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">ifsym</span> (<span class="params">A , B</span>):</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="keyword">not</span> A) <span class="keyword">and</span> (<span class="keyword">not</span> B):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span>(A <span class="keyword">and</span> B):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> (A.val == B.val):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> ifsym(A.left, B.right) <span class="keyword">and</span> ifsym(A.right, B.left)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span> ifsym(root.left, root.right)</span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-29-顺时针打印矩阵"><a href="#剑指-Offer-29-顺时针打印矩阵" class="headerlink" title="剑指 Offer 29. 顺时针打印矩阵"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shun-shi-zhen-da-yin-ju-zhen-lcof/">剑指 Offer 29. 顺时针打印矩阵</a></h1><h2 id="solution-24"><a href="#solution-24" class="headerlink" title="solution"></a>solution</h2><p>题目不困难，但是需要想好 test cases，仔细考虑 edge cases</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(mn) 92.51 %</span></span><br><span class="line">    <span class="comment"># Space o(mn) 7.42 %</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">spiralOrder</span>(<span class="params">self, matrix: List[List[<span class="built_in">int</span>]]</span>) -&gt; List[int]:</span></span><br><span class="line">        m = <span class="built_in">len</span>(matrix)</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        n = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        ans = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">printMatrix</span>(<span class="params">sm, em, sn, en</span>):</span></span><br><span class="line">            <span class="keyword">nonlocal</span> ans</span><br><span class="line">            <span class="keyword">if</span> sm &gt;= em <span class="keyword">or</span> sn &gt;= en:</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="comment">#print(sm, em, sn, en)</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> matrix[sm][sn:en]:</span><br><span class="line">                ans.append(i)</span><br><span class="line">            <span class="keyword">if</span> sm + <span class="number">1</span> &lt; em <span class="keyword">and</span> en-<span class="number">1</span>&gt;= sn:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> matrix[sm+<span class="number">1</span>:em]:</span><br><span class="line">                    ans.append(i[en-<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">if</span> em - <span class="number">1</span> &gt; sm <span class="keyword">and</span> sn  &lt; en-<span class="number">1</span>:</span><br><span class="line">                <span class="comment">#print(matrix[em-1][sn: en-1][::-1])</span></span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> matrix[em - <span class="number">1</span>][sn:en-<span class="number">1</span>][::-<span class="number">1</span>]:</span><br><span class="line">                    ans.append(i)</span><br><span class="line">            <span class="keyword">if</span> sm+<span class="number">1</span> &lt; em-<span class="number">1</span> <span class="keyword">and</span> en-<span class="number">1</span> &gt; sn:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> matrix[sm+<span class="number">1</span>: em-<span class="number">1</span>][::-<span class="number">1</span>]:</span><br><span class="line">                    ans.append(i[sn])</span><br><span class="line"></span><br><span class="line">            printMatrix(sm+<span class="number">1</span>, em-<span class="number">1</span>, sn+<span class="number">1</span>, en-<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">        printMatrix(<span class="number">0</span>, m, <span class="number">0</span>, n)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>



<h2 id="test-cases-12"><a href="#test-cases-12" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[[1,2,3],[4,5,6],[7,8,9]]</span><br><span class="line">[[1,2,3]]</span><br><span class="line">[[1],[2],[3]]</span><br><span class="line">[[1,2],[4,5],[7,8]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-30-包含min函数的栈"><a href="#剑指-Offer-30-包含min函数的栈" class="headerlink" title="剑指 Offer 30. 包含min函数的栈"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/bao-han-minhan-shu-de-zhan-lcof/">剑指 Offer 30. 包含min函数的栈</a></h1><h2 id="solution-25"><a href="#solution-25" class="headerlink" title="solution"></a>solution</h2><p>维持一个给 min value 的 stack，如果 push 的元素比栈顶元素小或者等于，就在 min_stack 里压栈。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span>:</span></span><br><span class="line">    <span class="comment"># Time push, min, top, pop o(1) 76.07%</span></span><br><span class="line">    <span class="comment"># Space o(n) 23.05%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        initialize your data structure here.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.stack_val = []</span><br><span class="line">        self.stack_min = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span>(<span class="params">self, x: <span class="built_in">int</span></span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        self.stack_val.append(x)</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.stack_min) == <span class="number">0</span>:</span><br><span class="line">            self.stack_min.append(x)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> x &lt;= self.stack_min[-<span class="number">1</span>]:</span><br><span class="line">                self.stack_min.append(x)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span>(<span class="params">self</span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        ans = self.stack_val.pop()</span><br><span class="line">        <span class="keyword">if</span> ans == self.stack_min[-<span class="number">1</span>]:</span><br><span class="line">            self.stack_min.pop()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">top</span>(<span class="params">self</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> self.stack_val[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">min</span>(<span class="params">self</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> self.stack_min[-<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Your MinStack object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = MinStack()</span></span><br><span class="line"><span class="comment"># obj.push(x)</span></span><br><span class="line"><span class="comment"># obj.pop()</span></span><br><span class="line"><span class="comment"># param_3 = obj.top()</span></span><br><span class="line"><span class="comment"># param_4 = obj.min()</span></span><br></pre></td></tr></table></figure>



<h2 id="test-cases-13"><a href="#test-cases-13" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[&quot;MinStack&quot;,&quot;push&quot;,&quot;push&quot;,&quot;push&quot;,&quot;min&quot;,&quot;pop&quot;,&quot;top&quot;,&quot;min&quot;]</span><br><span class="line">[[],[-2],[0],[-3],[],[],[],[]]</span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-31-栈的压入、弹出序列"><a href="#剑指-Offer-31-栈的压入、弹出序列" class="headerlink" title="剑指 Offer 31. 栈的压入、弹出序列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zhan-de-ya-ru-dan-chu-xu-lie-lcof/">剑指 Offer 31. 栈的压入、弹出序列</a></h1><h2 id="solution-26"><a href="#solution-26" class="headerlink" title="solution"></a>solution</h2><p>弄一个新栈，模拟 stack 的操作状况</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 85.79%</span></span><br><span class="line">    <span class="comment"># Space o(n) 64.11%</span></span><br><span class="line">    <span class="comment"># Date 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validateStackSequences</span>(<span class="params">self, pushed: List[<span class="built_in">int</span>], popped: List[<span class="built_in">int</span>]</span>) -&gt; bool:</span></span><br><span class="line">        stack = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> popped:</span><br><span class="line">            <span class="keyword">while</span> (stack == [] <span class="keyword">or</span> stack[-<span class="number">1</span>] != i) <span class="keyword">and</span> <span class="built_in">len</span>(pushed) != <span class="number">0</span>:</span><br><span class="line">                stack.append(pushed.pop(<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">if</span> stack[-<span class="number">1</span>] != i:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            stack.pop()</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h2 id="test-cases-14"><a href="#test-cases-14" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1,2,3,4,5]</span><br><span class="line">[4,5,3,2,1]</span><br><span class="line">[]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-32-I-从上到下打印二叉树"><a href="#剑指-Offer-32-I-从上到下打印二叉树" class="headerlink" title="剑指 Offer 32 - I. 从上到下打印二叉树"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-lcof/">剑指 Offer 32 - I. 从上到下打印二叉树</a></h1><h2 id="solution-27"><a href="#solution-27" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 47.24%</span></span><br><span class="line">    <span class="comment"># Space o(n) 40.60%</span></span><br><span class="line">    <span class="comment"># Date: 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[int]:</span></span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        candi = [root]</span><br><span class="line">        <span class="keyword">while</span> candi != []:</span><br><span class="line">            cur = candi.pop(<span class="number">0</span>)</span><br><span class="line">            ans.append(cur.val)</span><br><span class="line">            <span class="keyword">if</span> cur.left:</span><br><span class="line">                candi.append(cur.left)</span><br><span class="line">            <span class="keyword">if</span> cur.right:</span><br><span class="line">                candi.append(cur.right)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-15"><a href="#test-cases-15" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,null,null,15,7]</span><br><span class="line">[1,3,2,4,5,2,1,3]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-32-II-从上到下打印二叉树-II"><a href="#剑指-Offer-32-II-从上到下打印二叉树-II" class="headerlink" title="剑指 Offer 32 - II. 从上到下打印二叉树 II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-ii-lcof/">剑指 Offer 32 - II. 从上到下打印二叉树 II</a></h1><h2 id="solution-28"><a href="#solution-28" class="headerlink" title="solution"></a>solution</h2><h3 id="DFS"><a href="#DFS" class="headerlink" title="DFS"></a>DFS</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 22.38%</span></span><br><span class="line">    <span class="comment"># Space o(n) 5.02%</span></span><br><span class="line">    <span class="comment"># Date: 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">depth,root,ans</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="keyword">if</span> depth == <span class="built_in">len</span>(ans):</span><br><span class="line">                ans.append([])</span><br><span class="line">            ans[depth].append(root.val)</span><br><span class="line">            dfs(depth + <span class="number">1</span>, root.left, ans)</span><br><span class="line">            dfs(depth + <span class="number">1</span>, root.right, ans)</span><br><span class="line">        dfs(<span class="number">0</span>, root, ans)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h3 id="BFS"><a href="#BFS" class="headerlink" title="BFS"></a>BFS</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 74.46%</span></span><br><span class="line">    <span class="comment"># Space o(n) 11.49%</span></span><br><span class="line">    <span class="comment"># Date: 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        candi = [(root,<span class="number">0</span>)]</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(candi)!= <span class="number">0</span>:</span><br><span class="line">            cur_node, depth = candi.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> depth == <span class="built_in">len</span>(ans):</span><br><span class="line">                ans.append([])</span><br><span class="line">            ans[depth].append(cur_node.val)</span><br><span class="line">            <span class="keyword">if</span> cur_node.left:</span><br><span class="line">                candi.append((cur_node.left, depth + <span class="number">1</span>))</span><br><span class="line">            <span class="keyword">if</span> cur_node.right:</span><br><span class="line">                candi.append((cur_node.right, depth + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-16"><a href="#test-cases-16" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">3</span>,<span class="number">9</span>,<span class="number">20</span>,null,null,<span class="number">15</span>,<span class="number">7</span>]</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">6</span>]</span><br><span class="line">[<span class="number">2</span>,<span class="number">3</span>,null,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-32-III-从上到下打印二叉树-III"><a href="#剑指-Offer-32-III-从上到下打印二叉树-III" class="headerlink" title="剑指 Offer 32 - III. 从上到下打印二叉树 III"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/cong-shang-dao-xia-da-yin-er-cha-shu-iii-lcof/">剑指 Offer 32 - III. 从上到下打印二叉树 III</a></h1><h2 id="solution-29"><a href="#solution-29" class="headerlink" title="solution"></a>solution</h2><h3 id="BFS-1"><a href="#BFS-1" class="headerlink" title="BFS"></a>BFS</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在插入元素的时候判断层数，以此判断是从头插入还是从尾插入</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 90.25%</span></span><br><span class="line">    <span class="comment"># Space o(n) 42.74%</span></span><br><span class="line">    <span class="comment"># Date 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span>(<span class="params">self, root: TreeNode</span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        candi = [(root,<span class="number">0</span>)]</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(candi)!= <span class="number">0</span>:</span><br><span class="line">            cur_node, depth = candi.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> depth == <span class="built_in">len</span>(ans):</span><br><span class="line">                ans.append([])</span><br><span class="line">            <span class="keyword">if</span> depth &amp; <span class="number">1</span> == <span class="number">1</span>:</span><br><span class="line">                ans[depth].insert(<span class="number">0</span>, cur_node.val)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans[depth].append(cur_node.val)</span><br><span class="line">            <span class="keyword">if</span> cur_node.left:</span><br><span class="line">                candi.append((cur_node.left, depth + <span class="number">1</span>))</span><br><span class="line">            <span class="keyword">if</span> cur_node.right:</span><br><span class="line">                candi.append((cur_node.right, depth + <span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-17"><a href="#test-cases-17" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,null,null,15,7]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-33-二叉搜索树的后序遍历序列"><a href="#剑指-Offer-33-二叉搜索树的后序遍历序列" class="headerlink" title="剑指 Offer 33. 二叉搜索树的后序遍历序列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-hou-xu-bian-li-xu-lie-lcof/">剑指 Offer 33. 二叉搜索树的后序遍历序列</a></h1><h2 id="solution-30"><a href="#solution-30" class="headerlink" title="solution"></a>solution</h2><p>找到第一个大于 l[-1] 的值作为分割点，保持 left &lt; root &lt; right 的二叉树性质，否则返回 False</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) 87.69%</span></span><br><span class="line">    <span class="comment"># Space o(nlogn) 5.19%</span></span><br><span class="line">    <span class="comment"># Date: 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">verifyPostorder</span>(<span class="params">self, postorder: List[<span class="built_in">int</span>]</span>) -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(postorder) &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(postorder) == <span class="number">2</span> <span class="keyword">and</span> postorder[<span class="number">0</span>] != postorder[<span class="number">1</span>]:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        root = postorder[-<span class="number">1</span>]</span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> postorder[idx] &lt; root:</span><br><span class="line">            idx += <span class="number">1</span></span><br><span class="line">        <span class="comment"># idx - 1 </span></span><br><span class="line">        <span class="keyword">if</span> idx == <span class="number">0</span> :</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">min</span>(postorder[:-<span class="number">1</span>]) &lt; root:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">return</span> self.verifyPostorder(postorder[:-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">if</span> idx == <span class="number">0</span>:</span><br><span class="line">            left_max = -sys.maxsize</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            left_max = <span class="built_in">max</span>(postorder[:idx])</span><br><span class="line">        <span class="keyword">if</span> idx == <span class="built_in">len</span>(postorder) - <span class="number">1</span>:</span><br><span class="line">            right_min = sys.maxsize</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            right_min = <span class="built_in">min</span>(postorder[idx:-<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> left_max&gt; root <span class="keyword">or</span> right_min &lt; root:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> self.verifyPostorder(postorder[:idx]) <span class="keyword">and</span> self.verifyPostorder(postorder[idx:-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-18"><a href="#test-cases-18" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[4, 6, 12, 8, 16, 14, 10]</span><br><span class="line">[1,6,3,2,5]</span><br><span class="line">[1,3,2,6,5]</span><br><span class="line">[7,4,6,5]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-35-复杂链表的复制"><a href="#剑指-Offer-35-复杂链表的复制" class="headerlink" title="剑指 Offer 35. 复杂链表的复制"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/fu-za-lian-biao-de-fu-zhi-lcof/">剑指 Offer 35. 复杂链表的复制</a></h1><h2 id="solution-31"><a href="#solution-31" class="headerlink" title="solution"></a>solution</h2><h3 id="expand-and-split-list"><a href="#expand-and-split-list" class="headerlink" title="expand and split list"></a>expand and split list</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 30.38%</span></span><br><span class="line">    <span class="comment"># Space o(1) 78.08%</span></span><br><span class="line">    <span class="comment"># Date 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copyRandomList</span>(<span class="params">self, head: <span class="string">&#x27;Node&#x27;</span></span>) -&gt; &#x27;Node&#x27;:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># expand linked list to double</span></span><br><span class="line">        cur = head</span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            rear = cur.<span class="built_in">next</span></span><br><span class="line">            copy = Node(cur.val)</span><br><span class="line">            cur.<span class="built_in">next</span> = copy</span><br><span class="line">            copy.<span class="built_in">next</span> = rear</span><br><span class="line">            cur = cur.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># replicate random pointers</span></span><br><span class="line">        cur = head</span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            <span class="keyword">if</span> cur.random:</span><br><span class="line">                cur.<span class="built_in">next</span>.random = cur.random.<span class="built_in">next</span></span><br><span class="line">            cur = cur.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment"># split the list into two</span></span><br><span class="line">        cur = head</span><br><span class="line">        copyHead = cur.<span class="built_in">next</span></span><br><span class="line">        copyCur = copyHead</span><br><span class="line">        <span class="keyword">while</span> copyCur.<span class="built_in">next</span>:</span><br><span class="line">            cur.<span class="built_in">next</span> = cur.<span class="built_in">next</span>.<span class="built_in">next</span> </span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">            copyCur.<span class="built_in">next</span> = copyCur.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">            copyCur = copyCur.<span class="built_in">next</span></span><br><span class="line">        cur.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line">        <span class="keyword">return</span> copyHead</span><br></pre></td></tr></table></figure>
<h3 id="HashTable-List"><a href="#HashTable-List" class="headerlink" title="HashTable + List"></a>HashTable + List</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 55.88%</span></span><br><span class="line">    <span class="comment"># Space o(1) 78.08%</span></span><br><span class="line">    <span class="comment"># Date 20210312</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">copyRandomList</span>(<span class="params">self, head: <span class="string">&#x27;Node&#x27;</span></span>) -&gt; &#x27;Node&#x27;:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">            <span class="keyword">return</span> head</span><br><span class="line">        m = &#123;&#125;</span><br><span class="line">        m[head] = Node(head.val)</span><br><span class="line">        cur = head</span><br><span class="line">        copy_head = copy_cur = m[head]</span><br><span class="line">        <span class="keyword">while</span> cur:</span><br><span class="line">            <span class="keyword">if</span> cur.random:</span><br><span class="line">                <span class="keyword">if</span> cur.random <span class="keyword">not</span> <span class="keyword">in</span> m:</span><br><span class="line">                    m[cur.random] = Node(cur.random.val)</span><br><span class="line">                copy_cur.random = m[cur.random]</span><br><span class="line">            <span class="keyword">if</span> cur.<span class="built_in">next</span>:</span><br><span class="line">                <span class="keyword">if</span> cur.<span class="built_in">next</span> <span class="keyword">not</span> <span class="keyword">in</span> m:</span><br><span class="line">                    m[cur.<span class="built_in">next</span>] = Node(cur.<span class="built_in">next</span>.val)</span><br><span class="line">                copy_cur.<span class="built_in">next</span> = m[cur.<span class="built_in">next</span>]</span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line">            copy_cur = copy_cur.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> copy_head</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-19"><a href="#test-cases-19" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[7,null],[13,0],[11,4],[10,2],[1,0]]</span><br><span class="line">[[1,1],[2,1]]</span><br><span class="line">[[3,null],[3,0],[3,null]]</span><br><span class="line">[]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-36-二叉搜索树与双向链表"><a href="#剑指-Offer-36-二叉搜索树与双向链表" class="headerlink" title="剑指 Offer 36. 二叉搜索树与双向链表"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-yu-shuang-xiang-lian-biao-lcof/">剑指 Offer 36. 二叉搜索树与双向链表</a></h1><h2 id="solution-32"><a href="#solution-32" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 88.80% </span></span><br><span class="line">    <span class="comment"># Space o(1) 47.40 %</span></span><br><span class="line">    <span class="comment"># Date 20210317</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">treeToDoublyList</span>(<span class="params">self, root: <span class="string">&#x27;Node&#x27;</span></span>) -&gt; &#x27;Node&#x27;:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        head = <span class="literal">None</span></span><br><span class="line">        pre = <span class="literal">None</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">root, head, pre</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> head, pre</span><br><span class="line">            head, pre = dfs(root.left, head, pre)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> head:</span><br><span class="line">                head = root</span><br><span class="line">                pre = root</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> pre.right != root : <span class="comment"># some pointers of nodes may not change , large improvement with this condition</span></span><br><span class="line">                    pre.right = root </span><br><span class="line">                <span class="keyword">if</span> root.left != pre :</span><br><span class="line">                    root.left = pre</span><br><span class="line">                pre = root</span><br><span class="line">            <span class="keyword">return</span> dfs(root.right, head, pre)</span><br><span class="line">        head, pre = dfs(root, head, pre)</span><br><span class="line">        head.left = pre</span><br><span class="line">        pre.right = head</span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-20"><a href="#test-cases-20" class="headerlink" title="test cases"></a>test cases</h2><h1 id="剑指-Offer-37-序列化二叉树"><a href="#剑指-Offer-37-序列化二叉树" class="headerlink" title="剑指 Offer 37. 序列化二叉树"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/xu-lie-hua-er-cha-shu-lcof/">剑指 Offer 37. 序列化二叉树</a></h1><h2 id="solution-33"><a href="#solution-33" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Codec</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 30.78%</span></span><br><span class="line">    <span class="comment"># Space o(n) 24.98%</span></span><br><span class="line">    <span class="comment"># Date 21210317</span></span><br><span class="line">    <span class="comment"># bfs serilization</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">serialize</span>(<span class="params">self, root</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Encodes a tree to a single string.</span></span><br><span class="line"><span class="string">        </span></span><br><span class="line"><span class="string">        :type root: TreeNode</span></span><br><span class="line"><span class="string">        :rtype: str</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">        ans = []</span><br><span class="line">        stack = [root]</span><br><span class="line">        <span class="keyword">while</span> stack!= []:</span><br><span class="line">            cur = stack.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> cur:</span><br><span class="line">                ans.append(<span class="string">&#x27;null&#x27;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans.append(<span class="built_in">str</span>(cur.val))</span><br><span class="line">                stack.append(cur.left)</span><br><span class="line">                stack.append(cur.right)</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;[&#x27;</span>+ <span class="string">&#x27;,&#x27;</span>.join(ans) + <span class="string">&#x27;]&#x27;</span></span><br><span class="line">            </span><br><span class="line">        </span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deserialize</span>(<span class="params">self, data</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;Decodes your encoded data to tree.</span></span><br><span class="line"><span class="string">        :type data: str</span></span><br><span class="line"><span class="string">        :rtype: TreeNode</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> data == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(data)</span></span><br><span class="line">        tree = data.strip(<span class="string">&#x27;[]&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line"></span><br><span class="line">        head = TreeNode(tree[<span class="number">0</span>])</span><br><span class="line">        stack = [head]</span><br><span class="line">        i = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> i &lt; <span class="built_in">len</span>(tree):</span><br><span class="line">            cur = stack.pop(<span class="number">0</span>)</span><br><span class="line">            leftNode = TreeNode(<span class="built_in">int</span>(tree[i])) <span class="keyword">if</span> tree[i]!= <span class="string">&#x27;null&#x27;</span> <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line">            <span class="keyword">if</span> leftNode :</span><br><span class="line">                stack.append(leftNode)</span><br><span class="line">                cur.left = leftNode</span><br><span class="line">            i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> i == <span class="built_in">len</span>(tree):</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            rightNode = TreeNode(<span class="built_in">int</span>(tree[i]) ) <span class="keyword">if</span> tree[i]!= <span class="string">&#x27;null&#x27;</span> <span class="keyword">else</span> <span class="literal">None</span></span><br><span class="line">            <span class="keyword">if</span> rightNode :</span><br><span class="line">                stack.append(rightNode)</span><br><span class="line">                cur.right = rightNode</span><br><span class="line">            i+= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> head</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-21"><a href="#test-cases-21" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[1,2,3,null,null,4,5]</span><br><span class="line">[1,null,3,null,4,5]</span><br><span class="line">[1, 2, 3]</span><br><span class="line">[]</span><br><span class="line">[1,2,null,3,null,4]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-38-字符串的排列"><a href="#剑指-Offer-38-字符串的排列" class="headerlink" title="剑指 Offer 38. 字符串的排列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zi-fu-chuan-de-pai-lie-lcof/">剑指 Offer 38. 字符串的排列</a></h1><h2 id="solution-34"><a href="#solution-34" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(2^n) 80.48%</span></span><br><span class="line">    <span class="comment"># Space o(n) 98.92%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">permutation</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; List[str]:</span></span><br><span class="line">        <span class="keyword">if</span> s == <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        ans = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">cur, candi, ans</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(candi) == <span class="number">0</span>:</span><br><span class="line">                ans.append(cur)</span><br><span class="line">            <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">set</span>(candi):</span><br><span class="line">                candi.remove(a)</span><br><span class="line">                dfs(cur + a, candi, ans)</span><br><span class="line">                candi.append(a)</span><br><span class="line">        dfs(<span class="string">&#x27;&#x27;</span>, <span class="built_in">list</span>(s), ans)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-22"><a href="#test-cases-22" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;abc&quot;</span><br><span class="line">&quot;aab&quot;</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-39-数组中出现次数超过一半的数字"><a href="#剑指-Offer-39-数组中出现次数超过一半的数字" class="headerlink" title="剑指 Offer 39. 数组中出现次数超过一半的数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-zu-zhong-chu-xian-ci-shu-chao-guo-yi-ban-de-shu-zi-lcof/">剑指 Offer 39. 数组中出现次数超过一半的数字</a></h1><h2 id="solution-35"><a href="#solution-35" class="headerlink" title="solution"></a>solution</h2><h2 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) 33.07%</span></span><br><span class="line">    <span class="comment"># Space o(n) 10.78%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">majorityElement</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        nums.sort()</span><br><span class="line">        <span class="keyword">return</span> nums[<span class="built_in">len</span>(nums)//<span class="number">2</span>]</span><br></pre></td></tr></table></figure>
<h3 id="counting"><a href="#counting" class="headerlink" title="counting"></a>counting</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 33.07%</span></span><br><span class="line">    <span class="comment"># Space o(1) 10.78%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">majorityElement</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        count, major = <span class="number">1</span>, nums[<span class="number">0</span>]</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> nums[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">if</span> count == <span class="number">0</span>:</span><br><span class="line">                count, major = <span class="number">1</span>, n</span><br><span class="line">            <span class="keyword">elif</span> n == major:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                count -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> major </span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-23"><a href="#test-cases-23" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1,2,3,2,2,2,5,4,2]</span><br><span class="line">[1,2,2]</span><br><span class="line">[1,2,3,3,2,3,3,3,3,3]</span><br><span class="line">[5,4,3,2,1,1,1,1,1]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-40-最小的k个数"><a href="#剑指-Offer-40-最小的k个数" class="headerlink" title="剑指 Offer 40. 最小的k个数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zui-xiao-de-kge-shu-lcof/">剑指 Offer 40. 最小的k个数</a></h1><h2 id="solution-36"><a href="#solution-36" class="headerlink" title="solution"></a>solution</h2><h3 id="heap"><a href="#heap" class="headerlink" title="heap"></a>heap</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) 80.49%</span></span><br><span class="line">    <span class="comment"># Space o(n)    71.37%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLeastNumbers</span>(<span class="params">self, arr: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        heapify(arr)</span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">            ans.append(heappop(arr))</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) 80.49%</span></span><br><span class="line">    <span class="comment"># Space o(n)    20.46%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLeastNumbers</span>(<span class="params">self, arr: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">if</span> k == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        heap = arr[:k]</span><br><span class="line">        heap = [-n <span class="keyword">for</span> n <span class="keyword">in</span> heap]</span><br><span class="line">        heapify(heap)</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> arr[k:]:</span><br><span class="line">            <span class="keyword">if</span> n &lt;  -heap[<span class="number">0</span>]:</span><br><span class="line">                heapreplace(heap, -n)</span><br><span class="line">        <span class="keyword">return</span> [-n <span class="keyword">for</span> n <span class="keyword">in</span> heap]</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<h3 id="divide-conquer"><a href="#divide-conquer" class="headerlink" title="divide + conquer"></a>divide + conquer</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time avrg: o(n) worst: o(n^2) 54.82%</span></span><br><span class="line">    <span class="comment"># Space o(n) 44.56%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLeastNumbers</span>(<span class="params">self, arr: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params"> nums, l, r</span>):</span></span><br><span class="line">            pivot = nums[r]</span><br><span class="line">            i = l - <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(l, r):</span><br><span class="line">                <span class="keyword">if</span> nums[j] &lt;= pivot:</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                    nums[i], nums[j] = nums[j], nums[i]</span><br><span class="line">            nums[i+<span class="number">1</span>], nums[r] = nums[r], nums[i + <span class="number">1</span>]</span><br><span class="line">            <span class="keyword">return</span> i + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">random_partition</span>(<span class="params">nums, l, r</span>):</span></span><br><span class="line">            i = random.randint(l, r)</span><br><span class="line">            nums[r], nums[i], nums[i], nums[r]</span><br><span class="line">            <span class="keyword">return</span> partition(nums, l , r)</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">random_select</span>(<span class="params"> arr, l, r, k</span>):</span></span><br><span class="line">            pos = random_partition(arr, l, r)</span><br><span class="line">            num = pos - l + <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> k &gt; num:</span><br><span class="line">                random_select(arr, pos + <span class="number">1</span>, r, k - num)</span><br><span class="line">            <span class="keyword">elif</span> k &lt; num:</span><br><span class="line">                random_select(arr, l, pos-<span class="number">1</span>, k)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> k == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        random_select(arr , <span class="number">0</span>, <span class="built_in">len</span>(arr)-<span class="number">1</span>, k)</span><br><span class="line">        <span class="keyword">return</span> arr[:k]</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-24"><a href="#test-cases-24" class="headerlink" title="test cases"></a>test cases</h2><h1 id="剑指-Offer-41-数据流中的中位数"><a href="#剑指-Offer-41-数据流中的中位数" class="headerlink" title="剑指 Offer 41. 数据流中的中位数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-ju-liu-zhong-de-zhong-wei-shu-lcof/">剑指 Offer 41. 数据流中的中位数</a></h1><h2 id="solution-37"><a href="#solution-37" class="headerlink" title="solution"></a>solution</h2><h3 id="heapq"><a href="#heapq" class="headerlink" title="heapq"></a>heapq</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> heapq <span class="keyword">import</span> *</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MedianFinder</span>:</span></span><br><span class="line">    <span class="comment"># Time o(logn) 85.84%</span></span><br><span class="line">    <span class="comment"># Space o(n) 21.96%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        initialize your data structure here.</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        self.heap_left = [] <span class="comment"># maxheap</span></span><br><span class="line">        self.heap_right = [] <span class="comment"># meanheap</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">addNum</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.heap_left == []:</span><br><span class="line">            heappush(self.heap_left, -num)</span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">len</span>(self.heap_left) == <span class="built_in">len</span>(self.heap_right):</span><br><span class="line">            <span class="keyword">if</span> num &lt;=  self.heap_right[<span class="number">0</span>]:</span><br><span class="line">                heappush(self.heap_left, -num)</span><br><span class="line">            <span class="keyword">else</span>: </span><br><span class="line">                right_min = heappushpop(self.heap_right, num)</span><br><span class="line">                heappush(self.heap_left, -right_min)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> num &gt;= - self.heap_left[<span class="number">0</span>]:</span><br><span class="line">                heappush(self.heap_right, num)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                left_max = - heappushpop(self.heap_left, -num)</span><br><span class="line">                heappush(self.heap_right, left_max)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findMedian</span>(<span class="params">self</span>) -&gt; float:</span></span><br><span class="line">        <span class="comment">#print(self.heap_left, self.heap_right)</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(self.heap_left) == <span class="built_in">len</span>(self.heap_right):</span><br><span class="line">            <span class="keyword">return</span> (- self.heap_left[<span class="number">0</span>] + self.heap_right[<span class="number">0</span>])/<span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> -self.heap_left[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Your MedianFinder object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = MedianFinder()</span></span><br><span class="line"><span class="comment"># obj.addNum(num)</span></span><br><span class="line"><span class="comment"># param_2 = obj.findMedian()</span></span><br></pre></td></tr></table></figure>
<h2 id="test-cases-25"><a href="#test-cases-25" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[&quot;MedianFinder&quot;,&quot;addNum&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;findMedian&quot;]</span><br><span class="line">[[],[1],[2],[],[3],[]]</span><br><span class="line">[&quot;MedianFinder&quot;,&quot;addNum&quot;,&quot;findMedian&quot;]</span><br><span class="line">[[],[1],[]]</span><br><span class="line">[&quot;MedianFinder&quot;,&quot;addNum&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;addNum&quot;,&quot;findMedian&quot;,&quot;addNum&quot;,&quot;findMedian&quot;]</span><br><span class="line">[[],[1],[2],[],[3],[],[3],[8],[],[2],[]]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-42-连续子数组的最大和"><a href="#剑指-Offer-42-连续子数组的最大和" class="headerlink" title="剑指 Offer 42. 连续子数组的最大和"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/lian-xu-zi-shu-zu-de-zui-da-he-lcof/">剑指 Offer 42. 连续子数组的最大和</a></h1><h2 id="solution-38"><a href="#solution-38" class="headerlink" title="solution"></a>solution</h2><h3 id="dp-1"><a href="#dp-1" class="headerlink" title="dp"></a>dp</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dp[i] 以 index i 为结尾的连续子数组的最大和</span><br><span class="line">if dp[i-1] + nums[i] &lt; 0: dp[i] &#x3D; 0</span><br><span class="line">else: dp[i] &#x3D; dp[i-1] + nums[i]</span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 68.69%</span></span><br><span class="line">    <span class="comment"># Space o(n) 27.66%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSubArray</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        dp = [<span class="number">0</span>] * <span class="built_in">len</span>(nums)</span><br><span class="line">        dp[<span class="number">0</span>] = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">            dp[i] = <span class="built_in">max</span>(<span class="number">0</span>, dp[i-<span class="number">1</span>]) + nums[i]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp)</span><br><span class="line">         </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-26"><a href="#test-cases-26" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[-2,1,-3,4,-1,2,1,-5,4]</span><br><span class="line">[-1, 2, 3, 1, 3, -4, 3, -2, 3 ,2]</span><br><span class="line">[2,3, 4, -1, 2, -3 ,2 , 4, -3, -2]</span><br><span class="line">[1,2,-1,-2,2,1,-2,1,4,-5,4]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-43-1～n-整数中-1-出现的次数"><a href="#剑指-Offer-43-1～n-整数中-1-出现的次数" class="headerlink" title="剑指 Offer 43. 1～n 整数中 1 出现的次数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/1nzheng-shu-zhong-1chu-xian-de-ci-shu-lcof/">剑指 Offer 43. 1～n 整数中 1 出现的次数</a></h1><h2 id="solution-39"><a href="#solution-39" class="headerlink" title="solution"></a>solution</h2><h3 id="recursion-4"><a href="#recursion-4" class="headerlink" title="recursion"></a>recursion</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 98.76%</span></span><br><span class="line">    <span class="comment"># Space o(n) 8.81%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">countDigitOne</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">countOne</span>(<span class="params">n</span>):</span></span><br><span class="line">            <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> n</span><br><span class="line">            <span class="keyword">return</span> <span class="number">10</span>**(n-<span class="number">1</span>) + <span class="number">10</span>*countOne(n-<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        nstr = <span class="built_in">str</span>(n)</span><br><span class="line">        l = <span class="built_in">len</span>(nstr)</span><br><span class="line">        <span class="keyword">if</span> l == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            ans = <span class="number">0</span></span><br><span class="line">            ans += <span class="built_in">int</span>(nstr[<span class="number">0</span>]) * countOne(l-<span class="number">1</span>)  + self.countDigitOne(<span class="built_in">int</span>(nstr[<span class="number">1</span>:]))</span><br><span class="line">            <span class="keyword">if</span> nstr[<span class="number">0</span>] == <span class="string">&#x27;1&#x27;</span>:</span><br><span class="line">                ans += <span class="built_in">int</span>(nstr[<span class="number">1</span>:]) + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans += <span class="number">10</span>**(l-<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-27"><a href="#test-cases-27" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">12</span><br><span class="line">89123</span><br><span class="line">8989023</span><br><span class="line">13</span><br><span class="line">12304302</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-44-数字序列中某一位的数字"><a href="#剑指-Offer-44-数字序列中某一位的数字" class="headerlink" title="剑指 Offer 44. 数字序列中某一位的数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-zi-xu-lie-zhong-mou-yi-wei-de-shu-zi-lcof/">剑指 Offer 44. 数字序列中某一位的数字</a></h1><h2 id="solution-40"><a href="#solution-40" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> cmp_to_key</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) 62.48%</span></span><br><span class="line">    <span class="comment"># Space o(n) 64.30%</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; str:</span></span><br><span class="line">        <span class="comment"># (1stBit, other, value)</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">compare</span>(<span class="params">x, y</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">str</span>(x) + <span class="built_in">str</span>(y) &lt; <span class="built_in">str</span>(y) + <span class="built_in">str</span>(x):</span><br><span class="line">                <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> x + y == y + x:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        nums.sort(key = cmp_to_key(compare))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(<span class="built_in">str</span>(n) <span class="keyword">for</span> n <span class="keyword">in</span> nums)</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-28"><a href="#test-cases-28" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[3,20,333,20,33,32,34,1]</span><br><span class="line">[10,2]</span><br><span class="line">[3,30,34,5,9]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-46-把数字翻译成字符串"><a href="#剑指-Offer-46-把数字翻译成字符串" class="headerlink" title="剑指 Offer 46. 把数字翻译成字符串"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ba-shu-zi-fan-yi-cheng-zi-fu-chuan-lcof/">剑指 Offer 46. 把数字翻译成字符串</a></h1><h2 id="solution-41"><a href="#solution-41" class="headerlink" title="solution"></a>solution</h2><h3 id="DP"><a href="#DP" class="headerlink" title="DP"></a>DP</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 81.67%</span></span><br><span class="line">    <span class="comment"># Space o(1) 17.69%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">translateNum</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        strn = <span class="built_in">str</span>(num)</span><br><span class="line">        dp = [<span class="number">0</span>] * <span class="built_in">len</span>(strn)</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(strn)):</span><br><span class="line">            dp[i] += dp[i-<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;10&#x27;</span> &lt;= strn[i-<span class="number">1</span>:i+<span class="number">1</span>] &lt;= <span class="string">&#x27;25&#x27;</span>:</span><br><span class="line">                dp[i] += dp[i-<span class="number">2</span>] <span class="keyword">if</span> i &gt;=<span class="number">2</span> <span class="keyword">else</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> dp[-<span class="number">1</span>]</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<h3 id="DFS-1"><a href="#DFS-1" class="headerlink" title="DFS"></a>DFS</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n)</span></span><br><span class="line">    <span class="comment"># Space o(1)</span></span><br><span class="line">    <span class="comment"># Date 20210420</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">translateNum</span>(<span class="params">self, num: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bfs</span>(<span class="params">strn, i</span>):</span></span><br><span class="line">            <span class="keyword">nonlocal</span> ans</span><br><span class="line">            <span class="keyword">if</span> i == <span class="built_in">len</span>(strn):</span><br><span class="line">                ans += <span class="number">1</span></span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            bfs(strn, i + <span class="number">1</span>)</span><br><span class="line">            <span class="keyword">if</span> i + <span class="number">2</span> &lt;= <span class="built_in">len</span>(strn) <span class="keyword">and</span> <span class="number">10</span> &lt;= <span class="built_in">int</span>(strn[i: i + <span class="number">2</span>]) &lt;= <span class="number">25</span>:</span><br><span class="line">                bfs(strn, i + <span class="number">2</span>)</span><br><span class="line">        bfs(<span class="built_in">str</span>(num), <span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-29"><a href="#test-cases-29" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">80870304</span><br><span class="line">2893</span><br><span class="line">8923</span><br><span class="line">121323442</span><br><span class="line">12121223</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-47-礼物的最大价值"><a href="#剑指-Offer-47-礼物的最大价值" class="headerlink" title="剑指 Offer 47. 礼物的最大价值"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/li-wu-de-zui-da-jie-zhi-lcof/">剑指 Offer 47. 礼物的最大价值</a></h1><h2 id="solution-42"><a href="#solution-42" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(mn) 97.52%</span></span><br><span class="line">    <span class="comment"># Space o(n) 97.04%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxValue</span>(<span class="params">self, grid: List[List[<span class="built_in">int</span>]]</span>) -&gt; int:</span></span><br><span class="line">        m = <span class="built_in">len</span>(grid)</span><br><span class="line">        n = <span class="built_in">len</span>(grid[<span class="number">0</span>])</span><br><span class="line">        dp = [<span class="number">0</span>]*n </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                dp[j] = <span class="built_in">max</span>(dp[j], <span class="number">0</span> <span class="keyword">if</span> j == <span class="number">0</span> <span class="keyword">else</span> dp[j-<span class="number">1</span>]) + grid[i][j]</span><br><span class="line">        <span class="keyword">return</span> dp[-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-30"><a href="#test-cases-30" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[[1,3,1],[1,5,1],[4,2,1]]</span><br><span class="line">[[1,3,1],[1,5,1]]</span><br><span class="line">[[2,3,1]]</span><br><span class="line">[[2,3], [2,3], [2,1]]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-48-最长不含重复字符的子字符串"><a href="#剑指-Offer-48-最长不含重复字符的子字符串" class="headerlink" title="剑指 Offer 48. 最长不含重复字符的子字符串"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zui-chang-bu-han-zhong-fu-zi-fu-de-zi-zi-fu-chuan-lcof/">剑指 Offer 48. 最长不含重复字符的子字符串</a></h1><h3 id="solution-43"><a href="#solution-43" class="headerlink" title="solution"></a>solution</h3><h2 id="Set-Sliding-window"><a href="#Set-Sliding-window" class="headerlink" title="Set + Sliding window"></a>Set + Sliding window</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 97.02%</span></span><br><span class="line">    <span class="comment"># Space o(n) 7.02%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLongestSubstring</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        l = <span class="number">0</span></span><br><span class="line">        n = <span class="built_in">len</span>(s)</span><br><span class="line">        <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        ans = <span class="number">1</span></span><br><span class="line">        curset = &#123;s[<span class="number">0</span>]&#125;</span><br><span class="line">        <span class="keyword">for</span> r <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">            <span class="keyword">if</span> s[r] <span class="keyword">in</span> curset:</span><br><span class="line">                <span class="keyword">while</span> l&lt; r <span class="keyword">and</span> s[l]!= s[r]:</span><br><span class="line">                    curset.discard(s[l])</span><br><span class="line">                    l +=<span class="number">1</span></span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                ans = <span class="built_in">max</span>(ans, r-l + <span class="number">1</span>)</span><br><span class="line">                curset.add(s[r])</span><br><span class="line">            </span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h3 id="test-cases-31"><a href="#test-cases-31" class="headerlink" title="test cases"></a>test cases</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;abbccddsseessewwsawssdsddwefdosajf&quot;</span><br><span class="line">&quot;abcabcbb&quot;</span><br><span class="line">&quot;pwwkew&quot;</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-49-丑数"><a href="#剑指-Offer-49-丑数" class="headerlink" title="剑指 Offer 49. 丑数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/chou-shu-lcof/">剑指 Offer 49. 丑数</a></h1><h2 id="solution-44"><a href="#solution-44" class="headerlink" title="solution"></a>solution</h2><h3 id="dp1"><a href="#dp1" class="headerlink" title="dp1"></a>dp1</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nk) 5.74%</span></span><br><span class="line">    <span class="comment"># Space o(n+k) 68.09%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nthUglyNumber</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        count = <span class="number">1</span></span><br><span class="line">        nums = [<span class="number">1</span>]</span><br><span class="line">        start = [<span class="number">0</span>] * <span class="number">3</span></span><br><span class="line">        candi = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(nums) &lt; n:</span><br><span class="line">            adds = [candi[i] * nums[start[i]] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">            min_add = <span class="built_in">min</span>(adds)</span><br><span class="line">            nums.append(min_add)</span><br><span class="line">            start = [start[i] + (adds[i] == min_add) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>)]</span><br><span class="line">        <span class="keyword">return</span> nums[n-<span class="number">1</span>]</span><br><span class="line">        </span><br></pre></td></tr></table></figure>
<h3 id="dp2"><a href="#dp2" class="headerlink" title="dp2"></a>dp2</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 32.06%</span></span><br><span class="line">    <span class="comment"># Space o(n) 51.40%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nthUglyNumber</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        nums = [<span class="number">1</span>]</span><br><span class="line">        i1 = i2 = i3 = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(nums) &lt; n:</span><br><span class="line">            <span class="keyword">if</span> nums[-<span class="number">1</span>] &gt;= nums[i1] * <span class="number">2</span> : </span><br><span class="line">                i1 +=<span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> nums[-<span class="number">1</span>] &gt;= nums[i2] * <span class="number">3</span>:</span><br><span class="line">                i2 += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> nums[-<span class="number">1</span>] &gt;= nums[i3] * <span class="number">5</span>:</span><br><span class="line">                i3 += <span class="number">1</span></span><br><span class="line">            nums.append(<span class="built_in">min</span>(nums[i1] * <span class="number">2</span>,nums[i2] *<span class="number">3</span>, nums[i3] * <span class="number">5</span>))</span><br><span class="line">        <span class="keyword">return</span> nums[n-<span class="number">1</span>]</span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<h3 id="brute-force"><a href="#brute-force" class="headerlink" title="brute force"></a>brute force</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) + o(abc) 5.01%</span></span><br><span class="line">    <span class="comment"># Space o(abc) 5.04%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">nthUglyNumber</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        uglyNums = [<span class="number">2</span>**a * <span class="number">3</span>**b * <span class="number">5</span>**c <span class="keyword">for</span> a <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">32</span>) <span class="keyword">for</span> b <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>) <span class="keyword">for</span> c <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">15</span>)]</span><br><span class="line">        uglyNums.sort()</span><br><span class="line">        <span class="keyword">return</span> uglyNums[n-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-32"><a href="#test-cases-32" class="headerlink" title="test cases"></a>test cases</h2><h1 id="剑指-Offer-50-第一个只出现一次的字符"><a href="#剑指-Offer-50-第一个只出现一次的字符" class="headerlink" title="剑指 Offer 50. 第一个只出现一次的字符"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/di-yi-ge-zhi-chu-xian-yi-ci-de-zi-fu-lcof/">剑指 Offer 50. 第一个只出现一次的字符</a></h1><h2 id="solution-45"><a href="#solution-45" class="headerlink" title="solution"></a>solution</h2><h3 id="OrderedDict"><a href="#OrderedDict" class="headerlink" title="OrderedDict"></a>OrderedDict</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> OrderedDict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 45%</span></span><br><span class="line">    <span class="comment"># Space o(n) 12%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">firstUniqChar</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        dic = OrderedDict()</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> c <span class="keyword">in</span> dic:</span><br><span class="line">                dic[c] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dic[c] = <span class="number">1</span></span><br><span class="line">        ans = <span class="string">&#x27; &#x27;</span></span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(dic) &gt; <span class="number">0</span>:</span><br><span class="line">            c, time = dic.popitem(last = <span class="literal">False</span>)</span><br><span class="line">            <span class="keyword">if</span> time == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> c</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h3 id="HashTable-list"><a href="#HashTable-list" class="headerlink" title="HashTable + list"></a>HashTable + list</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> defaultdict</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 37.24%</span></span><br><span class="line">    <span class="comment"># Space o() 11.79%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">firstUniqChar</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        dic = defaultdict(<span class="built_in">int</span>)</span><br><span class="line">        valId = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> idx, c <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            dic[c] += <span class="number">1</span></span><br><span class="line">            valId[c] = idx</span><br><span class="line">        ans = <span class="string">&#x27; &#x27;</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> dic:</span><br><span class="line">            <span class="keyword">if</span> dic[c] == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> ans == <span class="string">&#x27; &#x27;</span> <span class="keyword">or</span>  valId[c] &lt; valId[ans]:</span><br><span class="line">                    ans = c</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-33"><a href="#test-cases-33" class="headerlink" title="test cases"></a>test cases</h2><h2 id="solution-46"><a href="#solution-46" class="headerlink" title="solution"></a>solution</h2><h3 id="merge-sort"><a href="#merge-sort" class="headerlink" title="merge sort"></a>merge sort</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) 87.83% same as mergeSort</span></span><br><span class="line">    <span class="comment"># Space o(n) 82.20%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePairs</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="comment"># sort for nums[l: r+1]</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">mergeSort</span>(<span class="params">nums, tmp, l, r</span>):</span></span><br><span class="line">            <span class="keyword">if</span> l &gt;= r:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            </span><br><span class="line">            mid = l + (r - l )//<span class="number">2</span></span><br><span class="line">            inv_count = mergeSort(nums, tmp, l, mid) + mergeSort(nums, tmp, mid+<span class="number">1</span>, r)</span><br><span class="line">            i, j, pos = l, mid + <span class="number">1</span>, l</span><br><span class="line">            <span class="keyword">while</span> i &lt;= mid <span class="keyword">and</span> j &lt;= r:</span><br><span class="line">                <span class="keyword">if</span> nums[i] &lt;= nums[j]:</span><br><span class="line">                    tmp[pos] = nums[i]</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    inv_count += (mid+<span class="number">1</span>) - i</span><br><span class="line">                    tmp[pos] = nums[j]</span><br><span class="line">                    j += <span class="number">1</span></span><br><span class="line">                pos += <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(i, mid + <span class="number">1</span>):</span><br><span class="line">                tmp[pos] = nums[k]</span><br><span class="line">                pos += <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(j, r+<span class="number">1</span>):</span><br><span class="line">                tmp[pos] = nums[k]</span><br><span class="line">                pos += <span class="number">1</span></span><br><span class="line">            nums[l: r+<span class="number">1</span>] = tmp[l: r+<span class="number">1</span>]</span><br><span class="line">            <span class="keyword">return</span> inv_count</span><br><span class="line">        </span><br><span class="line">        ans = mergeSort(nums, [<span class="number">0</span>]* <span class="built_in">len</span>(nums), <span class="number">0</span>, <span class="built_in">len</span>(nums)-<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-34"><a href="#test-cases-34" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[7,5,6,4]</span><br><span class="line">[2,3,3,4,2,1,4,5]</span><br><span class="line">[5,4,3,2,1]</span><br><span class="line">[1,2,3,4,5]</span><br><span class="line">[3,2,1,4,4,4,2,3]</span><br><span class="line">[2,9,2,9,2,9,2,10,1,3,4,2,2]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-52-两个链表的第一个公共节点"><a href="#剑指-Offer-52-两个链表的第一个公共节点" class="headerlink" title="剑指 Offer 52. 两个链表的第一个公共节点"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/liang-ge-lian-biao-de-di-yi-ge-gong-gong-jie-dian-lcof/">剑指 Offer 52. 两个链表的第一个公共节点</a></h1><h2 id="solution-47"><a href="#solution-47" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Definition for singly-linked list.</span></span><br><span class="line"><span class="comment"># class ListNode:</span></span><br><span class="line"><span class="comment">#     def __init__(self, x):</span></span><br><span class="line"><span class="comment">#         self.val = x</span></span><br><span class="line"><span class="comment">#         self.next = None</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 35.63%</span></span><br><span class="line">    <span class="comment"># Space o(1) 68.50%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getIntersectionNode</span>(<span class="params">self, headA: ListNode, headB: ListNode</span>) -&gt; ListNode:</span></span><br><span class="line">        curA, curB = headA, headB</span><br><span class="line">        la, lb = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> curA:</span><br><span class="line">            curA = curA.<span class="built_in">next</span></span><br><span class="line">            la += <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> curB:</span><br><span class="line">            curB = curB.<span class="built_in">next</span></span><br><span class="line">            lb += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> la &gt; lb:</span><br><span class="line">            headA, headB = headB, headA</span><br><span class="line">            la,lb = lb,la</span><br><span class="line">        curA, curB = headA, headB</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(lb - la):</span><br><span class="line">            curB = curB.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">while</span> curA :</span><br><span class="line">            <span class="comment"># print(curA, &#x27;\n&#x27;, curB)</span></span><br><span class="line">            <span class="comment"># print(id(curA), id(curB))</span></span><br><span class="line">            <span class="comment"># print(id(curA.val), id(curB.val))</span></span><br><span class="line">            <span class="comment"># print(id(curA.next), id(curB.next))</span></span><br><span class="line">            <span class="comment"># print(curA == curB)</span></span><br><span class="line">            <span class="keyword">if</span> curA <span class="keyword">is</span> curB:</span><br><span class="line">                <span class="keyword">return</span> curA</span><br><span class="line">            curA, curB = curA.<span class="built_in">next</span>, curB.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br></pre></td></tr></table></figure>
<h2 id="test-cases-35"><a href="#test-cases-35" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">8</span><br><span class="line">[4,1,8,4,5]</span><br><span class="line">[5,0,1,8,4,5]</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">[0,9,1,2,4]</span><br><span class="line">[3,2,4]</span><br><span class="line">3</span><br><span class="line">1</span><br><span class="line">0</span><br><span class="line">[2,6,4]</span><br><span class="line">[1,5]</span><br><span class="line">3</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<h2 id="other"><a href="#other" class="headerlink" title="other"></a>other</h2><ol>
<li>object 相等的比较：需要实现 <code>__ eq __</code> 类： <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/14836228/is-there-a-standardized-method-to-swap-two-variables-in-python">https://stackoverflow.com/questions/14836228/is-there-a-standardized-method-to-swap-two-variables-in-python</a></li>
<li>is vs == ： <a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/15008380/double-equals-vs-is-in-python">https://stackoverflow.com/questions/15008380/double-equals-vs-is-in-python</a></li>
</ol>
<h1 id="剑指-Offer-53-I-在排序数组中查找数字-I"><a href="#剑指-Offer-53-I-在排序数组中查找数字-I" class="headerlink" title="剑指 Offer 53 - I. 在排序数组中查找数字 I"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zai-pai-xu-shu-zu-zhong-cha-zhao-shu-zi-lcof/">剑指 Offer 53 - I. 在排序数组中查找数字 I</a></h1><h2 id="solution-48"><a href="#solution-48" class="headerlink" title="solution"></a>solution</h2><h3 id="bisect"><a href="#bisect" class="headerlink" title="bisect"></a>bisect</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bisect <span class="keyword">import</span> *</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time (logn) 91%</span></span><br><span class="line">    <span class="comment"># Space o(1) extra 0%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> bisect_right(nums, target) - bisect_left(nums, target)</span><br></pre></td></tr></table></figure>
<h3 id="binary-search"><a href="#binary-search" class="headerlink" title="binary search"></a>binary search</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> bisect <span class="keyword">import</span> *</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time (logn) 91%</span></span><br><span class="line">    <span class="comment"># Space o(1) extra 0%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">right</span>(<span class="params">a, x</span>):</span></span><br><span class="line">            l, r = <span class="number">0</span>, <span class="built_in">len</span>(a)</span><br><span class="line">            <span class="keyword">while</span> l &lt; r:</span><br><span class="line">                m = l + (r - l)//<span class="number">2</span></span><br><span class="line">                <span class="keyword">if</span> a[m] &gt; x:</span><br><span class="line">                    r = m</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    l = m + <span class="number">1</span></span><br><span class="line">            <span class="keyword">return</span> l</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">left</span>(<span class="params">a, x</span>):</span></span><br><span class="line">            l, r = <span class="number">0</span>, <span class="built_in">len</span>(a)</span><br><span class="line">            <span class="keyword">while</span> l &lt; r:</span><br><span class="line">                m = l + (r-l)//<span class="number">2</span></span><br><span class="line">                <span class="keyword">if</span> a[m] &lt; x:</span><br><span class="line">                    l = m + <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    r = m</span><br><span class="line">            <span class="keyword">return</span> l</span><br><span class="line">        r, l = right(nums, target) , left(nums, target)</span><br><span class="line">        <span class="comment">#print(r, l)</span></span><br><span class="line">        <span class="keyword">return</span> r - l</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-36"><a href="#test-cases-36" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[5,7,7,8,8,10]</span><br><span class="line">8</span><br><span class="line">[5,7,7,8,8,10]</span><br><span class="line">0</span><br><span class="line">[5,7,7,8,8,10]</span><br><span class="line">6</span><br><span class="line">[5,7,7,8,8,10]</span><br><span class="line">12</span><br><span class="line">[5,7,7,7,8,10]</span><br><span class="line">5</span><br><span class="line">[5,7,7,7,8,10]</span><br><span class="line">10</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-53-II-0～n-1中缺失的数字"><a href="#剑指-Offer-53-II-0～n-1中缺失的数字" class="headerlink" title="剑指 Offer 53 - II. 0～n-1中缺失的数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/que-shi-de-shu-zi-lcof/">剑指 Offer 53 - II. 0～n-1中缺失的数字</a></h1><h2 id="solution-49"><a href="#solution-49" class="headerlink" title="solution"></a>solution</h2><h3 id="math-1"><a href="#math-1" class="headerlink" title="math"></a>math</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 64.13%</span></span><br><span class="line">    <span class="comment"># Space o(n) 49.20%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">missingNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(nums) + <span class="number">1</span></span><br><span class="line">        total = (<span class="number">0</span> + n-<span class="number">1</span>) * n//<span class="number">2</span></span><br><span class="line">        <span class="keyword">return</span> total - <span class="built_in">sum</span>(nums)</span><br></pre></td></tr></table></figure>
<h3 id="binary-search-1"><a href="#binary-search-1" class="headerlink" title="binary search"></a>binary search</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 94.21%</span></span><br><span class="line">    <span class="comment"># Space o(n) 7.29%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">missingNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        l = <span class="number">0</span></span><br><span class="line">        r = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">while</span> l &lt; r:</span><br><span class="line">            m = l + (r - l)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">if</span> nums[m] ==  m:</span><br><span class="line">                l = m + <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r = m</span><br><span class="line">        <span class="keyword">return</span> l</span><br><span class="line">       </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-37"><a href="#test-cases-37" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[0,1,3]</span><br><span class="line">[0,1,2,3,4,5,6,7,9]</span><br><span class="line">[0]</span><br><span class="line">[1]</span><br><span class="line">[1,2]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-54-二叉搜索树的第k大节点"><a href="#剑指-Offer-54-二叉搜索树的第k大节点" class="headerlink" title="剑指 Offer 54. 二叉搜索树的第k大节点"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-di-kda-jie-dian-lcof/">剑指 Offer 54. 二叉搜索树的第k大节点</a></h1><h2 id="solution-50"><a href="#solution-50" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(k) 93.56%</span></span><br><span class="line">    <span class="comment"># Space o(k) 97.30%</span></span><br><span class="line">    <span class="comment"># Date 20210421</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">kthLargest</span>(<span class="params">self, root: TreeNode, k: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        nums = []</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">tras</span>(<span class="params">root, nums</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root <span class="keyword">or</span> <span class="built_in">len</span>(nums) == k:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            tras(root.right, nums)</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(nums) == k:</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            <span class="comment"># print(root.val, nums)</span></span><br><span class="line">            nums.append(root.val)</span><br><span class="line">            tras(root.left, nums)</span><br><span class="line">        tras(root, nums)</span><br><span class="line">        <span class="comment">#print(nums)</span></span><br><span class="line">        <span class="keyword">return</span> nums[-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-38"><a href="#test-cases-38" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[5,3,6,2,4,null,null,1]</span><br><span class="line">3</span><br><span class="line">[5,3,6,2,4,null,null,1]</span><br><span class="line">5</span><br><span class="line">[3,1,4,null,2]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-55-I-二叉树的深度"><a href="#剑指-Offer-55-I-二叉树的深度" class="headerlink" title="剑指 Offer 55 - I. 二叉树的深度"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-cha-shu-de-shen-du-lcof/">剑指 Offer 55 - I. 二叉树的深度</a></h1><h2 id="solution-51"><a href="#solution-51" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 76.52%</span></span><br><span class="line">    <span class="comment"># Space o(n) 7.47%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxDepth</span>(<span class="params">self, root: TreeNode</span>) -&gt; int:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dep</span>(<span class="params">root</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">max</span>(dep(root.left), dep(root.right)) + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> dep(root)</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-39"><a href="#test-cases-39" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,null,null,15,7]</span><br><span class="line">[]</span><br><span class="line">[1,2,3]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-55-II-平衡二叉树"><a href="#剑指-Offer-55-II-平衡二叉树" class="headerlink" title="剑指 Offer 55 - II. 平衡二叉树"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ping-heng-er-cha-shu-lcof/">剑指 Offer 55 - II. 平衡二叉树</a></h1><h2 id="solution-52"><a href="#solution-52" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 45.28%</span></span><br><span class="line">    <span class="comment"># Space o(1) extra 6.74</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isBalanced</span>(<span class="params">self, root: TreeNode</span>) -&gt; bool:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dep</span>(<span class="params">root</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>, <span class="literal">True</span></span><br><span class="line">            dl, fl = dep(root.left)</span><br><span class="line">            dr, fr = dep(root.right)</span><br><span class="line">            f = <span class="literal">False</span> <span class="keyword">if</span> <span class="built_in">abs</span>(dl - dr) &gt; <span class="number">1</span> <span class="keyword">else</span> <span class="literal">True</span></span><br><span class="line">            f = f <span class="keyword">and</span> fl <span class="keyword">and</span> fr</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">max</span>(dl, dr) + <span class="number">1</span>, f</span><br><span class="line">        <span class="keyword">return</span> dep(root)[<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h1 id="test-case"><a href="#test-case" class="headerlink" title="test case"></a>test case</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,null,null,15,7]</span><br><span class="line">[1,2,2,3,3,null,null,4,4]</span><br><span class="line">[1,2,2,3,null,null,3,4,null,null,4]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-56-I-数组中数字出现的次数"><a href="#剑指-Offer-56-I-数组中数字出现的次数" class="headerlink" title="剑指 Offer 56 - I. 数组中数字出现的次数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/">剑指 Offer 56 - I. 数组中数字出现的次数</a></h1><h2 id="solution-53"><a href="#solution-53" class="headerlink" title="solution"></a>solution</h2><h3 id="bit-manipulation-1"><a href="#bit-manipulation-1" class="headerlink" title="bit manipulation"></a>bit manipulation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 84.10%</span></span><br><span class="line">    <span class="comment"># Space o(1) 98.83%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumbers</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; List[int]:</span></span><br><span class="line">        ret = nums[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> nums[<span class="number">1</span>:]:</span><br><span class="line">            ret ^= n</span><br><span class="line">        flg = <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> (flg &amp; ret) == <span class="number">0</span>:</span><br><span class="line">            flg &lt;&lt;= <span class="number">1</span></span><br><span class="line">        a = b = ret</span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> flg &amp; n == flg:</span><br><span class="line">                a ^= n</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                b ^= n</span><br><span class="line">        <span class="keyword">return</span> [a, b]</span><br><span class="line">                </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-40"><a href="#test-cases-40" class="headerlink" title="test cases"></a>test cases</h2><h1 id="剑指-Offer-56-II-数组中数字出现的次数-II"><a href="#剑指-Offer-56-II-数组中数字出现的次数-II" class="headerlink" title="剑指 Offer 56 - II. 数组中数字出现的次数 II"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-ii-lcof/">剑指 Offer 56 - II. 数组中数字出现的次数 II</a></h1><h2 id="solution-54"><a href="#solution-54" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 99.16%</span></span><br><span class="line">    <span class="comment"># Space o(n) 75.39%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">singleNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">return</span> (<span class="built_in">sum</span>(<span class="built_in">set</span>(nums)) * <span class="number">3</span> - <span class="built_in">sum</span>(nums))//<span class="number">2</span></span><br></pre></td></tr></table></figure>
<h2 id="test-cases-41"><a href="#test-cases-41" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[3,4,3,3]</span><br><span class="line">[9,1,7,9,7,9,7]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-57-和为s的两个数字"><a href="#剑指-Offer-57-和为s的两个数字" class="headerlink" title="剑指 Offer 57. 和为s的两个数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/he-wei-sde-liang-ge-shu-zi-lcof/">剑指 Offer 57. 和为s的两个数字</a></h1><h2 id="solution-55"><a href="#solution-55" class="headerlink" title="solution"></a>solution</h2><h3 id="traverse"><a href="#traverse" class="headerlink" title="traverse"></a>traverse</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n^2) 18.01%</span></span><br><span class="line">    <span class="comment"># Space o(n) 57.81%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoSum</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">for</span> l <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            r = <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">            <span class="keyword">while</span> nums[l] + nums[r] &gt; target <span class="keyword">and</span> r &gt; l:</span><br><span class="line">                r -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> nums[l] + nums[r] == target:</span><br><span class="line">                <span class="keyword">return</span> [nums[l], nums[r]]</span><br><span class="line"></span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<h3 id="two-pointers"><a href="#two-pointers" class="headerlink" title="two pointers"></a>two pointers</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 51.76%</span></span><br><span class="line">    <span class="comment"># Space o(n) 47.02%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoSum</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], target: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        l, r = <span class="number">0</span>, <span class="built_in">len</span>(nums) - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> l &lt; r-<span class="number">1</span> <span class="keyword">and</span> nums[l] + nums[r] != target :</span><br><span class="line">            <span class="keyword">if</span> nums[l] + nums[r] &lt; target:</span><br><span class="line">                l += <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                r -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> nums[l] + nums[r] == target:</span><br><span class="line">            <span class="keyword">return</span> [nums[l], nums[r]]</span><br><span class="line">  </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-42"><a href="#test-cases-42" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[14,15,16,22,53,60]</span><br><span class="line">76</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-57-II-和为s的连续正数序列"><a href="#剑指-Offer-57-II-和为s的连续正数序列" class="headerlink" title="剑指 Offer 57 - II. 和为s的连续正数序列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/he-wei-sde-lian-xu-zheng-shu-xu-lie-lcof/">剑指 Offer 57 - II. 和为s的连续正数序列</a></h1><h2 id="solution-56"><a href="#solution-56" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 78.33%</span></span><br><span class="line">    <span class="comment"># Space o(n^2) 97.74%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findContinuousSequence</span>(<span class="params">self, target: <span class="built_in">int</span></span>) -&gt; List[List[int]]:</span></span><br><span class="line">        ans = []</span><br><span class="line">        cur = []</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, (target)//<span class="number">2</span> + <span class="number">2</span>):</span><br><span class="line">            cur.append(n)</span><br><span class="line">            count += n</span><br><span class="line">            <span class="keyword">while</span> count &gt; target:</span><br><span class="line">                count -= cur.pop(<span class="number">0</span>)</span><br><span class="line">            <span class="keyword">if</span> count == target <span class="keyword">and</span> <span class="built_in">len</span>(cur) &gt;= <span class="number">2</span>:</span><br><span class="line">                ans.append(cur[:])</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-43"><a href="#test-cases-43" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">5</span><br><span class="line">9</span><br><span class="line">15</span><br><span class="line">28</span><br><span class="line">1001</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-58-I-翻转单词顺序"><a href="#剑指-Offer-58-I-翻转单词顺序" class="headerlink" title="剑指 Offer 58 - I. 翻转单词顺序"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/fan-zhuan-dan-ci-shun-xu-lcof/">剑指 Offer 58 - I. 翻转单词顺序</a></h1><h2 id="solution-57"><a href="#solution-57" class="headerlink" title="solution"></a>solution</h2><h3 id="split"><a href="#split" class="headerlink" title="split"></a>split</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 89.90%</span></span><br><span class="line">    <span class="comment"># Space o(n) 66.50%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseWords</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        dic = s.strip().split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">        dic = [d.strip()  <span class="keyword">for</span> d <span class="keyword">in</span> dic <span class="keyword">if</span> d!= <span class="string">&#x27;&#x27;</span>]</span><br><span class="line">        <span class="comment"># print(dic)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27; &#x27;</span>.join(dic[::-<span class="number">1</span>])</span><br></pre></td></tr></table></figure>
<h3 id="stack"><a href="#stack" class="headerlink" title="stack"></a>stack</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 14.11%</span></span><br><span class="line">    <span class="comment"># Space o(n) 17.00%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseWords</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        cur = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        ans = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="comment"># print(c, cur, ans)</span></span><br><span class="line">            <span class="keyword">if</span> c == <span class="string">&#x27; &#x27;</span> <span class="keyword">and</span> <span class="built_in">len</span>(cur) &gt; <span class="number">0</span>:</span><br><span class="line">                ans = cur + <span class="string">&#x27; &#x27;</span> + ans</span><br><span class="line">                cur = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            <span class="keyword">elif</span> c != <span class="string">&#x27; &#x27;</span>:</span><br><span class="line">                cur += c</span><br><span class="line">        ans = cur + <span class="string">&#x27; &#x27;</span> + ans</span><br><span class="line">        <span class="keyword">return</span> ans.strip()</span><br><span class="line">                </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-44"><a href="#test-cases-44" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&quot;the sky is blue&quot;</span><br><span class="line">&quot;  hello world!  &quot;</span><br><span class="line">&quot;a good   example&quot;</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-58-II-左旋转字符串"><a href="#剑指-Offer-58-II-左旋转字符串" class="headerlink" title="剑指 Offer 58 - II. 左旋转字符串"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof/">剑指 Offer 58 - II. 左旋转字符串</a></h1><h2 id="solution-58"><a href="#solution-58" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 68.97%</span></span><br><span class="line">    <span class="comment"># Space o(1) extra 61.17%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseLeftWords</span>(<span class="params">self, s: <span class="built_in">str</span>, n: <span class="built_in">int</span></span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">return</span> s[n:] + s[:n]</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-45"><a href="#test-cases-45" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&quot;abcdefg&quot;</span><br><span class="line">2</span><br><span class="line">&quot;lrloseumgh&quot;</span><br><span class="line">6</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-59-I-滑动窗口的最大值"><a href="#剑指-Offer-59-I-滑动窗口的最大值" class="headerlink" title="剑指 Offer 59 - I. 滑动窗口的最大值"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/hua-dong-chuang-kou-de-zui-da-zhi-lcof/">剑指 Offer 59 - I. 滑动窗口的最大值</a></h1><h2 id="solution-59"><a href="#solution-59" class="headerlink" title="solution"></a>solution</h2><h3 id="deque"><a href="#deque" class="headerlink" title="deque"></a>deque</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 59.60 %</span></span><br><span class="line">    <span class="comment"># Space o(n) 5.28%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxSlidingWindow</span>(<span class="params">self, nums: List[<span class="built_in">int</span>], k: <span class="built_in">int</span></span>) -&gt; List[int]:</span></span><br><span class="line">        cur = deque([])</span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        ans = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">len</span>(cur)&gt;<span class="number">0</span> <span class="keyword">and</span> cur[<span class="number">0</span>] &lt;= i - k :</span><br><span class="line">                cur.popleft()</span><br><span class="line">            <span class="keyword">while</span> <span class="built_in">len</span>(cur)&gt; <span class="number">0</span> <span class="keyword">and</span> nums[cur[-<span class="number">1</span>]] &lt; nums[i]:</span><br><span class="line">                cur.pop()</span><br><span class="line">            cur.append(i)</span><br><span class="line">            ans.append(nums[cur[<span class="number">0</span>]])</span><br><span class="line">        <span class="keyword">return</span> ans[k-<span class="number">1</span>:]</span><br><span class="line">            </span><br></pre></td></tr></table></figure>

<h2 id="test-cases-46"><a href="#test-cases-46" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1,3,-1,-3,5,3,6,7]</span><br><span class="line">3</span><br><span class="line">[1,3,-1,-3,5,3,2,4,3,3,2,1,3,4,2,7]</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-59-II-队列的最大值"><a href="#剑指-Offer-59-II-队列的最大值" class="headerlink" title="剑指 Offer 59 - II. 队列的最大值"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/dui-lie-de-zui-da-zhi-lcof/">剑指 Offer 59 - II. 队列的最大值</a></h1><h2 id="solution-60"><a href="#solution-60" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MaxQueue</span>:</span></span><br><span class="line">    <span class="comment"># Time o(1) every op 76.14%</span></span><br><span class="line">    <span class="comment"># Space o(n) 32.02%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.que = []</span><br><span class="line">        self.candi = []</span><br><span class="line">        self.idx = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">max_value</span>(<span class="params">self</span>) -&gt; int:</span></span><br><span class="line">        <span class="comment">#print(self.que, self.candi, self.idx)</span></span><br><span class="line">        <span class="keyword">if</span> self.idx == <span class="built_in">len</span>(self.que):</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.que[self.candi[<span class="number">0</span>]]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push_back</span>(<span class="params">self, value: <span class="built_in">int</span></span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        <span class="comment">#print(value, self.que, self.candi, self.idx)</span></span><br><span class="line">        self.que.append(value)</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(self.candi) &gt; <span class="number">0</span> <span class="keyword">and</span> self.que[self.candi[-<span class="number">1</span>]] &lt; value:</span><br><span class="line">            self.candi.pop()</span><br><span class="line">        self.candi.append(<span class="built_in">len</span>(self.que) - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop_front</span>(<span class="params">self</span>) -&gt; int:</span></span><br><span class="line">        <span class="comment">#print(self.que, self.candi, self.idx)</span></span><br><span class="line">        <span class="keyword">if</span> self.idx == <span class="built_in">len</span>(self.que):</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.candi[<span class="number">0</span>] == self.idx:</span><br><span class="line">            self.candi.pop(<span class="number">0</span>)</span><br><span class="line">        self.idx += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> self.que[self.idx-<span class="number">1</span>]</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="comment"># Your MaxQueue object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"># obj = MaxQueue()</span></span><br><span class="line"><span class="comment"># param_1 = obj.max_value()</span></span><br><span class="line"><span class="comment"># obj.push_back(value)</span></span><br><span class="line"><span class="comment"># param_3 = obj.pop_front()</span></span><br></pre></td></tr></table></figure>
<h2 id="test-cases-47"><a href="#test-cases-47" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[&quot;MaxQueue&quot;,&quot;push_back&quot;,&quot;push_back&quot;,&quot;max_value&quot;,&quot;pop_front&quot;,&quot;max_value&quot;]</span><br><span class="line">[[],[1],[2],[],[],[]]</span><br><span class="line">[&quot;MaxQueue&quot;,&quot;push_back&quot;,&quot;push_back&quot;,&quot;max_value&quot;,&quot;pop_front&quot;,&quot;max_value&quot;,&quot;push_back&quot;,&quot;push_back&quot;,&quot;max_value&quot;,&quot;pop_front&quot;,&quot;max_value&quot;,&quot;push_back&quot;,&quot;push_back&quot;,&quot;max_value&quot;,&quot;pop_front&quot;,&quot;max_value&quot;]</span><br><span class="line">[[],[1],[2],[],[],[],[3],[5],[],[],[],[2],[6],[],[],[]]</span><br><span class="line">[&quot;MaxQueue&quot;,&quot;pop_front&quot;,&quot;max_value&quot;]</span><br><span class="line">[[],[],[]]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-60-n个骰子的点数"><a href="#剑指-Offer-60-n个骰子的点数" class="headerlink" title="剑指 Offer 60. n个骰子的点数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/nge-tou-zi-de-dian-shu-lcof/">剑指 Offer 60. n个骰子的点数</a></h1><h2 id="solution-61"><a href="#solution-61" class="headerlink" title="solution"></a>solution</h2><h3 id="DP-1"><a href="#DP-1" class="headerlink" title="DP"></a>DP</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n^2)</span></span><br><span class="line">    <span class="comment"># Space o(n)</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dicesProbability</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; List[float]:</span></span><br><span class="line">        dp = [<span class="number">1</span>/<span class="number">6</span>] * <span class="number">6</span></span><br><span class="line">        <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">            tmp = [<span class="number">0.0</span>] *(<span class="number">5</span>*(k+ <span class="number">1</span>)+<span class="number">1</span>) </span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(dp)):</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">6</span>):</span><br><span class="line">                    tmp[i+j] += dp[i]/<span class="number">6</span></span><br><span class="line">            dp = tmp</span><br><span class="line">        <span class="keyword">return</span> dp</span><br></pre></td></tr></table></figure>


<h1 id="剑指-Offer-61-扑克牌中的顺子"><a href="#剑指-Offer-61-扑克牌中的顺子" class="headerlink" title="剑指 Offer 61. 扑克牌中的顺子"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/bu-ke-pai-zhong-de-shun-zi-lcof/">剑指 Offer 61. 扑克牌中的顺子</a></h1><h2 id="solution-62"><a href="#solution-62" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 83.20%</span></span><br><span class="line">    <span class="comment"># Space o(1) 86.67%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isStraight</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; bool:</span></span><br><span class="line">        nums.sort()</span><br><span class="line">        candi = <span class="number">0</span></span><br><span class="line">        pre = -<span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> n <span class="keyword">in</span> nums:</span><br><span class="line">            <span class="keyword">if</span> n == <span class="number">0</span>:</span><br><span class="line">                candi  += <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">if</span> pre == n:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            <span class="keyword">if</span> pre == -<span class="number">1</span>:</span><br><span class="line">                pre = n</span><br><span class="line">            <span class="keyword">while</span> n - pre &gt; <span class="number">1</span> <span class="keyword">and</span> candi &gt; <span class="number">0</span>:</span><br><span class="line">                candi-= <span class="number">1</span></span><br><span class="line">                pre += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> n - pre &gt;<span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            pre = n</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>
<h2 id="test-cases-48"><a href="#test-cases-48" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[1,2,1,4,3]</span><br><span class="line">[2,3,4,1,5]</span><br><span class="line">[0,1,2,3,0]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-62-圆圈中最后剩下的数字"><a href="#剑指-Offer-62-圆圈中最后剩下的数字" class="headerlink" title="剑指 Offer 62. 圆圈中最后剩下的数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/yuan-quan-zhong-zui-hou-sheng-xia-de-shu-zi-lcof/">剑指 Offer 62. 圆圈中最后剩下的数字</a></h1><h2 id="solution-63"><a href="#solution-63" class="headerlink" title="solution"></a>solution</h2><h3 id="array"><a href="#array" class="headerlink" title="array"></a>array</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 16.97%</span></span><br><span class="line">    <span class="comment"># Space o(n) 21.18%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lastRemaining</span>(<span class="params">self, n: <span class="built_in">int</span>, m: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">       	f = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,n):</span><br><span class="line">            f = (f + m)</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(nums) &gt; <span class="number">1</span>:</span><br><span class="line">            cur = (pre + m-<span class="number">1</span>) % <span class="built_in">len</span>(nums)</span><br><span class="line">            nums.pop(cur)</span><br><span class="line">            pre = cur</span><br><span class="line">        <span class="keyword">return</span> nums[-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>
<h3 id="dp-2"><a href="#dp-2" class="headerlink" title="dp"></a>dp</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 79.28%</span></span><br><span class="line">    <span class="comment"># Space o(n) 47.77%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lastRemaining</span>(<span class="params">self, n: <span class="built_in">int</span>, m: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, n+<span class="number">1</span>):</span><br><span class="line">            ans = (ans + m) %i</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<h2 id="test-cases-49"><a href="#test-cases-49" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">3</span><br><span class="line">10</span><br><span class="line">17</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">3</span><br><span class="line">5</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">2</span><br><span class="line">5</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-63-股票的最大利润"><a href="#剑指-Offer-63-股票的最大利润" class="headerlink" title="剑指 Offer 63. 股票的最大利润"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/gu-piao-de-zui-da-li-run-lcof/">剑指 Offer 63. 股票的最大利润</a></h1><h2 id="solution-64"><a href="#solution-64" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 91.68%</span></span><br><span class="line">    <span class="comment"># space o(1) extra 84.67%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span>(<span class="params">self, prices: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(prices) &lt;= <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        left_min = prices[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> p <span class="keyword">in</span> prices[<span class="number">1</span>:]:</span><br><span class="line">            ans = <span class="built_in">max</span>(ans, p - left_min)</span><br><span class="line">            left_min = <span class="built_in">min</span>(left_min, p)</span><br><span class="line">        <span class="keyword">return</span> ans </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-50"><a href="#test-cases-50" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[7,1,5,3,6,4]</span><br><span class="line">[7,6,4,3,1]</span><br><span class="line">[2,3,4,3,2,3,3,2,1,4,5,8,3,2,9]</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-64-求1-2-…-n"><a href="#剑指-Offer-64-求1-2-…-n" class="headerlink" title="剑指 Offer 64. 求1+2+…+n"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/qiu-12n-lcof/">剑指 Offer 64. 求1+2+…+n</a></h1><h2 id="solution-65"><a href="#solution-65" class="headerlink" title="solution"></a>solution</h2><h2 id="and-operator"><a href="#and-operator" class="headerlink" title="and operator"></a>and operator</h2><p>利用了 python and，如果前半部分为 True，后半部分就不会再做比较的性质。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 42.57%</span></span><br><span class="line">    <span class="comment"># Space o(n) 43.44%</span></span><br><span class="line">    <span class="comment"># Date 20210422 </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.ans = <span class="number">0</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sumNums</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        n &gt; <span class="number">1</span> <span class="keyword">and</span> self.sumNums(n-<span class="number">1</span>)</span><br><span class="line">        self.ans += n </span><br><span class="line">        <span class="keyword">return</span>  self.ans</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<p>ref : <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/qiu-12n-lcof/solution/mian-shi-ti-64-qiu-1-2-nluo-ji-fu-duan-lu-qing-xi-/">LCCN 评论区</a></p>
<h2 id="test-cases-51"><a href="#test-cases-51" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">3</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-65-不用加减乘除做加法"><a href="#剑指-Offer-65-不用加减乘除做加法" class="headerlink" title="剑指 Offer 65. 不用加减乘除做加法"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/">剑指 Offer 65. 不用加减乘除做加法</a></h1><h2 id="solution-66"><a href="#solution-66" class="headerlink" title="solution"></a>solution</h2><h3 id="bit-manipulation-2"><a href="#bit-manipulation-2" class="headerlink" title="bit manipulation"></a>bit manipulation</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, a: <span class="built_in">int</span>, b: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        x = <span class="number">0xffffffff</span></span><br><span class="line">        a, b = a &amp; x, b &amp; x</span><br><span class="line">        <span class="keyword">while</span> b != <span class="number">0</span>:</span><br><span class="line">            a, b = (a ^ b), (a &amp; b) &lt;&lt; <span class="number">1</span> &amp; x</span><br><span class="line">        <span class="keyword">return</span> a <span class="keyword">if</span> a &lt;= <span class="number">0x7fffffff</span> <span class="keyword">else</span> ~(a ^ x)</span><br></pre></td></tr></table></figure>

<p>cr. <a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/bu-yong-jia-jian-cheng-chu-zuo-jia-fa-lcof/solution/mian-shi-ti-65-bu-yong-jia-jian-cheng-chu-zuo-ji-7/">KrahetsL6</a></p>
<h3 id="test-cases-52"><a href="#test-cases-52" class="headerlink" title="test cases"></a>test cases</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-66-构建乘积数组"><a href="#剑指-Offer-66-构建乘积数组" class="headerlink" title="剑指 Offer 66. 构建乘积数组"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/gou-jian-cheng-ji-shu-zu-lcof/">剑指 Offer 66. 构建乘积数组</a></h1><h2 id="solution-67"><a href="#solution-67" class="headerlink" title="solution"></a>solution</h2><h3 id="recursion-5"><a href="#recursion-5" class="headerlink" title="recursion"></a>recursion</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(nlogn) 5.7%</span></span><br><span class="line">    <span class="comment"># Space o(n) 24.25%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">constructArr</span>(<span class="params">self, a: List[<span class="built_in">int</span>]</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">rec</span>(<span class="params">a, l, r</span>):</span></span><br><span class="line">            <span class="keyword">if</span> r - l == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">return</span> [<span class="number">1</span>], a[l]</span><br><span class="line">            m = (l + r)//<span class="number">2</span></span><br><span class="line">            left, pdleft = rec(a, l ,m)</span><br><span class="line">            right, pdright = rec(a, m, r)</span><br><span class="line">            left = [i * pdright <span class="keyword">for</span> i <span class="keyword">in</span> left]</span><br><span class="line">            right = [i * pdleft <span class="keyword">for</span> i <span class="keyword">in</span> right]</span><br><span class="line">            <span class="keyword">return</span> left + right, pdright* pdleft</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(a) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="keyword">return</span> rec(a, <span class="number">0</span>, <span class="built_in">len</span>(a))[<span class="number">0</span>]</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-53"><a href="#test-cases-53" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3, 4, 5]</span><br><span class="line">[]</span><br><span class="line">[2,3,4,3,2,1,32]</span><br><span class="line">[3,3,3,2,1,3,1,1]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-67-把字符串转换成整数"><a href="#剑指-Offer-67-把字符串转换成整数" class="headerlink" title="剑指 Offer 67. 把字符串转换成整数"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ba-zi-fu-chuan-zhuan-huan-cheng-zheng-shu-lcof/">剑指 Offer 67. 把字符串转换成整数</a></h1><h2 id="solution-68"><a href="#solution-68" class="headerlink" title="solution"></a>solution</h2><h3 id="array-1"><a href="#array-1" class="headerlink" title="array"></a>array</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 19.83%</span></span><br><span class="line">    <span class="comment"># Space o(n) 14.57%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">strToInt</span>(<span class="params">self, <span class="built_in">str</span>: <span class="built_in">str</span></span>) -&gt; int:</span></span><br><span class="line">        MAX_INT = <span class="number">2147483647</span></span><br><span class="line">        s = <span class="built_in">str</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        sgn = <span class="number">0</span></span><br><span class="line">        s = s.strip()</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(s) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># print(s.strip())</span></span><br><span class="line">        <span class="keyword">if</span> s[<span class="number">0</span>] == <span class="string">&#x27;-&#x27;</span>:</span><br><span class="line">            sgn = -<span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> s[<span class="number">0</span>] == <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">            sgn = <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> s[<span class="number">0</span>].isdecimal():</span><br><span class="line">            sgn = <span class="number">1</span></span><br><span class="line">            ans = <span class="built_in">ord</span>(s[<span class="number">0</span>]) - <span class="built_in">ord</span>(<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> ans</span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">if</span> c.isdecimal():</span><br><span class="line">                ans = ans*<span class="number">10</span> + <span class="built_in">ord</span>(c) - <span class="built_in">ord</span>(<span class="string">&#x27;0&#x27;</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> sgn == -<span class="number">1</span> <span class="keyword">and</span> ans &gt; (MAX_INT +<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> -(MAX_INT + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">elif</span> sgn == <span class="number">1</span> <span class="keyword">and</span> ans &gt; MAX_INT:</span><br><span class="line">            <span class="keyword">return</span> MAX_INT</span><br><span class="line">        <span class="comment">#print(sgn, ans, ans &gt; (MAX_INT +1), MAX_INT)</span></span><br><span class="line">        <span class="keyword">return</span> sgn * ans</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-54"><a href="#test-cases-54" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&quot;42&quot;</span><br><span class="line">&quot;--42000&quot;</span><br><span class="line">&quot;&quot;</span><br><span class="line">&quot; &quot;</span><br><span class="line">&quot;+42&quot;</span><br><span class="line">&quot;words and 987&quot;</span><br><span class="line">&quot;-91283472332&quot;</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-68-I-二叉搜索树的最近公共祖先"><a href="#剑指-Offer-68-I-二叉搜索树的最近公共祖先" class="headerlink" title="剑指 Offer 68 - I. 二叉搜索树的最近公共祖先"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-cha-sou-suo-shu-de-zui-jin-gong-gong-zu-xian-lcof/">剑指 Offer 68 - I. 二叉搜索树的最近公共祖先</a></h1><h2 id="solution-69"><a href="#solution-69" class="headerlink" title="solution"></a>solution</h2><h3 id="brute-force-1"><a href="#brute-force-1" class="headerlink" title="brute force"></a>brute force</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 26.61%</span></span><br><span class="line">    <span class="comment"># Space o(n) 16.53%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowestCommonAncestor</span>(<span class="params">self, root: <span class="string">&#x27;TreeNode&#x27;</span>, p: <span class="string">&#x27;TreeNode&#x27;</span>, q: <span class="string">&#x27;TreeNode&#x27;</span></span>) -&gt; &#x27;TreeNode&#x27;:</span></span><br><span class="line">        candi = [<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">        ans  = <span class="literal">None</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">tras</span>(<span class="params">root</span>):</span></span><br><span class="line">            <span class="keyword">nonlocal</span> ans</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            count = tras(root.left)</span><br><span class="line">            count += tras(root.right)</span><br><span class="line">            <span class="keyword">if</span> root <span class="keyword">is</span> p <span class="keyword">or</span> root <span class="keyword">is</span> q:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> count == <span class="number">2</span> <span class="keyword">and</span> ans == <span class="literal">None</span>:</span><br><span class="line">                ans = root</span><br><span class="line">            <span class="keyword">return</span> count</span><br><span class="line">        tras(root)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>
<h3 id="search"><a href="#search" class="headerlink" title="search"></a>search</h3><p>这道题讲真碰到好几次了，每次都忘记考虑搜索树这个问题！！！</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 82.32%</span></span><br><span class="line">    <span class="comment"># Space o(n) 11.92%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowestCommonAncestor</span>(<span class="params">self, root: <span class="string">&#x27;TreeNode&#x27;</span>, p: <span class="string">&#x27;TreeNode&#x27;</span>, q: <span class="string">&#x27;TreeNode&#x27;</span></span>) -&gt; &#x27;TreeNode&#x27;:</span></span><br><span class="line">        <span class="keyword">if</span> p.val &gt; q.val:</span><br><span class="line">            p, q = q, p</span><br><span class="line">        <span class="keyword">while</span> root:</span><br><span class="line">            <span class="keyword">if</span> root.val &lt; p.val:</span><br><span class="line">                root = root.right</span><br><span class="line">            <span class="keyword">elif</span> root.val &gt; q.val:</span><br><span class="line">                root = root.left</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> root</span><br></pre></td></tr></table></figure>
<h2 id="test-cases-55"><a href="#test-cases-55" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">[6,2,8,0,4,7,9,null,null,3,5]</span><br><span class="line">2</span><br><span class="line">8</span><br><span class="line">[6,2,8,0,4,7,9,null,null,3,5]</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">[6,2,8,0,4,7,9,null,null,3,5]</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">[6,2,8,0,4,7,9,null,null,3,5]</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">[6,2,8,0,4,7,9,null,null,3,5]</span><br><span class="line">2</span><br><span class="line">5</span><br><span class="line">[6,2,8,0,4,7,9,null,null,3,5]</span><br><span class="line">0</span><br><span class="line">9</span><br><span class="line">[6,2,8,0,4,7,9,null,null,3,5]</span><br><span class="line">7</span><br><span class="line">9</span><br></pre></td></tr></table></figure>
<h1 id="剑指-Offer-68-II-二叉树的最近公共祖先"><a href="#剑指-Offer-68-II-二叉树的最近公共祖先" class="headerlink" title="剑指 Offer 68 - II. 二叉树的最近公共祖先"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-cha-shu-de-zui-jin-gong-gong-zu-xian-lcof/">剑指 Offer 68 - II. 二叉树的最近公共祖先</a></h1><h2 id="solution-70"><a href="#solution-70" class="headerlink" title="solution"></a>solution</h2><h3 id="brute-force-2"><a href="#brute-force-2" class="headerlink" title="brute force"></a>brute force</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 52.92%</span></span><br><span class="line">    <span class="comment"># Space o(n) 10.06%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowestCommonAncestor</span>(<span class="params">self, root: TreeNode, p: TreeNode, q: TreeNode</span>) -&gt; TreeNode:</span></span><br><span class="line">        candi = [<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">        ans  = <span class="literal">None</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">tras</span>(<span class="params">root</span>):</span></span><br><span class="line">            <span class="keyword">nonlocal</span> ans</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            count = tras(root.left)</span><br><span class="line">            count += tras(root.right)</span><br><span class="line">            <span class="keyword">if</span> root <span class="keyword">is</span> p <span class="keyword">or</span> root <span class="keyword">is</span> q:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> count == <span class="number">2</span> <span class="keyword">and</span> ans == <span class="literal">None</span>:</span><br><span class="line">                ans = root</span><br><span class="line">            <span class="keyword">return</span> count</span><br><span class="line">        tras(root)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<h3 id="recursion-6"><a href="#recursion-6" class="headerlink" title="recursion"></a>recursion</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 92.59%</span></span><br><span class="line">    <span class="comment"># Space o(n) 59.30%</span></span><br><span class="line">    <span class="comment"># Date 20210422</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lowestCommonAncestor</span>(<span class="params">self, root: TreeNode, p: TreeNode, q: TreeNode</span>) -&gt; TreeNode:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root <span class="keyword">or</span> root <span class="keyword">is</span> p <span class="keyword">or</span> root <span class="keyword">is</span> q:</span><br><span class="line">            <span class="keyword">return</span> root</span><br><span class="line">        left =  self.lowestCommonAncestor(root.left, p, q)</span><br><span class="line">        right = self.lowestCommonAncestor(root.right, p, q)</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> left:</span><br><span class="line">            <span class="keyword">return</span> right</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> right:</span><br><span class="line">            <span class="keyword">return</span> left</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">            </span><br></pre></td></tr></table></figure>
<h2 id="test-cases-56"><a href="#test-cases-56" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">8</span>,null,null,<span class="number">7</span>,<span class="number">4</span>]</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">[<span class="number">3</span>,<span class="number">5</span>,<span class="number">1</span>,<span class="number">6</span>,<span class="number">2</span>,<span class="number">0</span>,<span class="number">8</span>,null,null,<span class="number">7</span>,<span class="number">4</span>]</span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>
        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Yiwei</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://hangzhi.github.io/2021/04/22/%E2%80%9C%E5%89%91%E6%8C%87Offer%E2%80%9D/">https://hangzhi.github.io/2021/04/22/%E2%80%9C%E5%89%91%E6%8C%87Offer%E2%80%9D/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/%E7%AE%97%E6%B3%95/"># 算法</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2021/05/09/common-algo/">复习 - 常见算法</a>
            
            
            <a class="next" rel="next" href="/2021/04/16/git-hints/">git-hints</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Yiwei | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic |</a>
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
		<a id="busuanzi_container_site_pv"><a id="busuanzi_value_site_pv"></a> Views | </a>
		<a id="busuanzi_container_site_uv"> By <a id="busuanzi_value_site_uv"></a></span>	
    </div>
</footer>


    </div>
</body>
</html>
