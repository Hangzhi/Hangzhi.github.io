<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Yiwei">





<title>剑指Offer Python solution | Hexo</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 5.4.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Yiwei&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>
        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Yiwei&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">剑指Offer Python solution</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Yiwei</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">March 4, 2021&nbsp;&nbsp;19:53:30</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h1 id="剑指-Offer-03-数组中重复的数字"><a href="#剑指-Offer-03-数组中重复的数字" class="headerlink" title="剑指 Offer 03. 数组中重复的数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/">剑指 Offer 03. 数组中重复的数字</a></h1><h2 id="solution"><a href="#solution" class="headerlink" title="solution"></a>solution</h2><h3 id="flip-num"><a href="#flip-num" class="headerlink" title="flip num"></a>flip num</h3><p>题目中的所有数字都在 0 ~ n-1 的范围内，所以可以将数组中的所有数字都看作 index。遍历数组，对所有当前指向的数字置为相反数，如果出现 &lt; 0 的数字，说明当前的 index 已经被置为相反数过了，当前的 index 就是一个重复数字。这其中有一个问题是 0，0 的相反数还是 0，所以如果是 0 在  index-0 但是之后又有重复的状况就会判别不出来，所以需要特别处理，比如说 [0, 1, 0]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRepeatNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        countz = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            <span class="keyword">if</span> nums[<span class="built_in">abs</span>(nums[i])] &lt; <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="built_in">abs</span>(nums[i])</span><br><span class="line">            <span class="keyword">elif</span> nums[i] == <span class="number">0</span> :</span><br><span class="line">                countz += <span class="number">1</span></span><br><span class="line">                <span class="keyword">if</span> countz &gt; <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">            nums[<span class="built_in">abs</span>(nums[i])] *= -<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h3 id="swap-num"><a href="#swap-num" class="headerlink" title="swap num"></a>swap num</h3><p>思路是做原地交换， 当前的值与 index 不相等的时候就进行当前值与指向值的交换，知道 nums[i] == nums[nums[i]] , 也就是说当前值和指向值是相等的，这有两种状况。第一种是 i == nums[i]，或者 nums[i] == nums[nums[i]] and  i != nums[i]，第二种状况就是找到了重复值。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time(n) 90.67 %</span></span><br><span class="line">    <span class="comment"># Space(1) 41.00 %</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findRepeatNumber</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        n = <span class="built_in">len</span>(nums)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">            <span class="keyword">if</span> i != nums[i]:</span><br><span class="line">                <span class="keyword">while</span> nums[i] != nums[nums[i]]:</span><br><span class="line">                    tmp = nums[i]</span><br><span class="line">                    nums[i], nums[tmp] = nums[tmp] , nums[i]</span><br><span class="line">            <span class="keyword">if</span> i != nums[i] <span class="keyword">and</span> nums[i] == nums[nums[i]]:</span><br><span class="line">                <span class="keyword">return</span> nums[i]</span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-04-二维数组中的查找"><a href="#剑指-Offer-04-二维数组中的查找" class="headerlink" title="剑指 Offer 04. 二维数组中的查找"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/er-wei-shu-zu-zhong-de-cha-zhao-lcof/">剑指 Offer 04. 二维数组中的查找</a></h1><h2 id="solution-1"><a href="#solution-1" class="headerlink" title="solution"></a>solution</h2><p>搜索思路： [i,j] 左上的所有都是小于 当前数值的，[i,j] 右下的都是大于当前数值的。从右上角开始，如果比当前数值大，说明比本行及其下面的行都大，如果比当前数值小，说明本列及其右都小，所以可以按照如下规则。遇到比 target 小的，向下走一格，遇到比 target 大的，向左走一格。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(m+n) 99.08%</span></span><br><span class="line">    <span class="comment"># Space o(1) 20.58%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">findNumberIn2DArray</span>(<span class="params">self, matrix: List[List[<span class="built_in">int</span>]], target: <span class="built_in">int</span></span>) -&gt; bool:</span></span><br><span class="line">        m = <span class="built_in">len</span>(matrix)</span><br><span class="line">        <span class="keyword">if</span> m == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        n = <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        j = n - <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> <span class="number">0</span>&lt;= i &lt; m <span class="keyword">and</span>  <span class="number">0</span>&lt;= j &lt; n :</span><br><span class="line">            <span class="comment">#print(i,j)</span></span><br><span class="line">            <span class="keyword">if</span> target &gt; matrix[i][j]:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> target &lt; matrix[i][j]:</span><br><span class="line">                j -= <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-05-替换空格"><a href="#剑指-Offer-05-替换空格" class="headerlink" title="剑指 Offer 05. 替换空格"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ti-huan-kong-ge-lcof/">剑指 Offer 05. 替换空格</a></h1><h2 id="solution-2"><a href="#solution-2" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 54.61%</span></span><br><span class="line">    <span class="comment"># Space o(n) 5.31%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">replaceSpace</span>(<span class="params">self, s: <span class="built_in">str</span></span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>. join([<span class="string">&#x27;%20&#x27;</span> <span class="keyword">if</span> i == <span class="string">&#x27; &#x27;</span> <span class="keyword">else</span> i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">list</span>(s)])</span><br><span class="line">       </span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-06-从尾到头打印链表"><a href="#剑指-Offer-06-从尾到头打印链表" class="headerlink" title="剑指 Offer 06. 从尾到头打印链表"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/cong-wei-dao-tou-da-yin-lian-biao-lcof/">剑指 Offer 06. 从尾到头打印链表</a></h1><h2 id="solution-3"><a href="#solution-3" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 60%</span></span><br><span class="line">    <span class="comment"># Space o(1) 41%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reversePrint</span>(<span class="params">self, head: ListNode</span>) -&gt; List[int]:</span></span><br><span class="line">        stack = []</span><br><span class="line">        cur = head</span><br><span class="line">        <span class="keyword">while</span> cur!= <span class="literal">None</span>:</span><br><span class="line">            stack.append(cur.val)</span><br><span class="line">            cur = cur.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> stack[::-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-07-重建二叉树"><a href="#剑指-Offer-07-重建二叉树" class="headerlink" title="剑指 Offer 07. 重建二叉树"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/zhong-jian-er-cha-shu-lcof/">剑指 Offer 07. 重建二叉树</a></h1><h2 id="solution-4"><a href="#solution-4" class="headerlink" title="solution"></a>solution</h2><p>两种解法的思路是一致的，以如下列表为例，在前序遍历中，第一个元素一定是当前构建的根节点，在中序遍历中，所有左子树元素一定在根节点的左边，所有右子树元素一定在根节点的右边。通过这两个特性，首先从前序树第一个元素取到根节点，再从中序树中找到根节点，根节点之前的部分就是左子树，根节点之后的部分就是右子树。而左子树的长度是固定的，所以在前序遍历数组中的第一个元素后取同样的长度，就得到了左子树的前序遍历数组。同理可以得到右子树的的相关所需结果。</p>
<p>[3, |9,2,8,| 20,15,7]<br>[2,9,8,| 3, | 15,20,7]</p>
<h3 id="recursion-list-para"><a href="#recursion-list-para" class="headerlink" title="recursion + list para"></a>recursion + list para</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span>(<span class="params">self, preorder: List[<span class="built_in">int</span>], inorder: List[<span class="built_in">int</span>]</span>) -&gt; TreeNode:</span></span><br><span class="line">        <span class="comment"># Time o(n^2) 32.02%</span></span><br><span class="line">        <span class="comment"># Space o(n) 5.86%</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">build</span>(<span class="params">prel, inl</span>):</span></span><br><span class="line">            <span class="comment">#print(prel, inl)</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(prel) == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            value = prel[<span class="number">0</span>]</span><br><span class="line">            root = TreeNode(value)</span><br><span class="line">            idx_in_val = inl.index(value)</span><br><span class="line">            root.left = build(prel[<span class="number">1</span>: idx_in_val+<span class="number">1</span>], inl[:idx_in_val])</span><br><span class="line">            root.right = build(prel[idx_in_val+<span class="number">1</span>:],  inl[idx_in_val+<span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">return</span> root </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> build(preorder, inorder)</span><br><span class="line">  </span><br></pre></td></tr></table></figure>

<h3 id="recursion-index-para"><a href="#recursion-index-para" class="headerlink" title="recursion + index para"></a>recursion + index para</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 67.73%</span></span><br><span class="line">    <span class="comment"># Space o(1) 89.10%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">buildTree</span>(<span class="params">self, preorder: List[<span class="built_in">int</span>], inorder: List[<span class="built_in">int</span>]</span>) -&gt; TreeNode:</span></span><br><span class="line">        <span class="comment"># Time o(n^2) 32.02%</span></span><br><span class="line">        <span class="comment"># Space o(n) 5.86%</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">build</span>(<span class="params">prl, inl, inr</span>):</span></span><br><span class="line">            <span class="comment">#print(prel, inl)</span></span><br><span class="line">            <span class="keyword">if</span> inl- inr == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">            value = preorder[prl]</span><br><span class="line">            root = TreeNode(value)</span><br><span class="line">            lenl = inorder[inl:inr].index(value)</span><br><span class="line">                        </span><br><span class="line">            root.left = build(prl+<span class="number">1</span>,inl,inl+lenl )</span><br><span class="line">            root.right = build(prl + lenl + <span class="number">1</span>,inl+lenl+ <span class="number">1</span>,inr)</span><br><span class="line">            <span class="keyword">return</span> root </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> build(<span class="number">0</span>, <span class="number">0</span>, <span class="built_in">len</span>(inorder))</span><br></pre></td></tr></table></figure>

<h2 id="test-cases"><a href="#test-cases" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[3,9,20,15,7]</span><br><span class="line">[9,3,15,20,7]</span><br><span class="line">[2]</span><br><span class="line">[2]</span><br><span class="line">[]</span><br><span class="line">[]</span><br><span class="line">[3,9,2,8,20,15,7]</span><br><span class="line">[2,9,8,3,15,20,7]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-09-用两个栈实现队列"><a href="#剑指-Offer-09-用两个栈实现队列" class="headerlink" title="剑指 Offer 09. 用两个栈实现队列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/yong-liang-ge-zhan-shi-xian-dui-lie-lcof/">剑指 Offer 09. 用两个栈实现队列</a></h1><p>两个 stak，一个用作 push，一个用作 pop。appendTail 将元素压入 stack 栈，deleteHead 时查看 pop 栈是否还有元素，如果空了就将 push 栈的元素倒入 pop 栈，否则 pop 栈顶的元素。</p>
<h2 id="solution-5"><a href="#solution-5" class="headerlink" title="solution"></a>solution</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CQueue</span>:</span></span><br><span class="line">    <span class="comment"># Time push o(1) delete o(1) on averaage 65.44%</span></span><br><span class="line">    <span class="comment"># Space o(n) 39.05%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.push_ = []</span><br><span class="line">        self.pop_ = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">appendTail</span>(<span class="params">self, value: <span class="built_in">int</span></span>) -&gt; <span class="keyword">None</span>:</span></span><br><span class="line">        self.push_.append(value)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">deleteHead</span>(<span class="params">self</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> self.push_ == [] <span class="keyword">and</span> self.pop_ == []:</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> self.pop_ != []:</span><br><span class="line">            <span class="keyword">return</span> self.pop_.pop()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span> self.push_ != []:</span><br><span class="line">                self.pop_.append(self.push_.pop())</span><br><span class="line">            <span class="keyword">return</span> self.pop_.pop()</span><br><span class="line">           </span><br></pre></td></tr></table></figure>

<h2 id="test-Cases"><a href="#test-Cases" class="headerlink" title="test Cases"></a>test Cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[&quot;CQueue&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[3],[],[]]</span><br><span class="line">[&quot;CQueue&quot;,&quot;deleteHead&quot;,&quot;appendTail&quot;,&quot;appendTail&quot;,&quot;deleteHead&quot;,&quot;deleteHead&quot;]</span><br><span class="line">[[],[],[5],[2],[],[]]</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-10-I-斐波那契数列"><a href="#剑指-Offer-10-I-斐波那契数列" class="headerlink" title="剑指 Offer 10- I. 斐波那契数列"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/fei-bo-na-qi-shu-lie-lcof/">剑指 Offer 10- I. 斐波那契数列</a></h1><h2 id="solution-6"><a href="#solution-6" class="headerlink" title="solution"></a>solution</h2><h3 id="iteration"><a href="#iteration" class="headerlink" title="iteration"></a>iteration</h3><p>新 python3 可以处理长整数，为了节约时间，只需要在返回前进行 mod 操作</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 80.47%</span></span><br><span class="line">    <span class="comment"># Space o(1) 43.41%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        pre1 = <span class="number">0</span></span><br><span class="line">        pre2 = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n-<span class="number">1</span>):</span><br><span class="line">            tmp = (pre1 + pre2) </span><br><span class="line">            pre1 = pre2</span><br><span class="line">            pre2 = tmp</span><br><span class="line">        <span class="keyword">return</span> pre2 % MOD</span><br></pre></td></tr></table></figure>
<h3 id="recursion"><a href="#recursion" class="headerlink" title="recursion"></a>recursion</h3><p>recursion 会溢出，使用 lru_cache 来避免这个问题。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 28.09%</span></span><br><span class="line">    <span class="comment"># Space o(1) 5.14%</span></span><br><span class="line"><span class="meta">    @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> n</span><br><span class="line">        <span class="keyword">return</span> (self.fib(n-<span class="number">1</span>) + self.fib(n-<span class="number">2</span>)) % <span class="number">1000000007</span></span><br></pre></td></tr></table></figure>

<h2 id="test-cases-1"><a href="#test-cases-1" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">100</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h1 id="剑指-Offer-10-II-青蛙跳台阶问题"><a href="#剑指-Offer-10-II-青蛙跳台阶问题" class="headerlink" title="剑指 Offer 10- II. 青蛙跳台阶问题"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/qing-wa-tiao-tai-jie-wen-ti-lcof/">剑指 Offer 10- II. 青蛙跳台阶问题</a></h1><h2 id="solution-7"><a href="#solution-7" class="headerlink" title="solution"></a>solution</h2><p>与 10-i 同思路，只是停止条件不同</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> lru_cache</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time 28.41%</span></span><br><span class="line">    <span class="comment"># Space 5.09%</span></span><br><span class="line"><span class="meta">    @lru_cache(<span class="params"><span class="literal">None</span></span>)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">numWays</span>(<span class="params">self, n: <span class="built_in">int</span></span>) -&gt; int:</span></span><br><span class="line">        MOD = <span class="number">1000000007</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> (<span class="number">0</span>,<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> (self.numWays(n-<span class="number">1</span>) + self.numWays(n-<span class="number">2</span>)) % MOD</span><br></pre></td></tr></table></figure>





<h1 id="剑指-Offer-11-旋转数组的最小数字"><a href="#剑指-Offer-11-旋转数组的最小数字" class="headerlink" title="剑指 Offer 11. 旋转数组的最小数字"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/xuan-zhuan-shu-zu-de-zui-xiao-shu-zi-lcof/">剑指 Offer 11. 旋转数组的最小数字</a></h1><h2 id="solution-8"><a href="#solution-8" class="headerlink" title="solution"></a>solution</h2><p>遍历，如果出现了非递增元素，就会是最小的那个。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n) 95.86%</span></span><br><span class="line">    <span class="comment"># Space o(1) 29.30%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minArray</span>(<span class="params">self, numbers: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        pre = numbers[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> numbers[<span class="number">1</span>:]:</span><br><span class="line">            <span class="keyword">if</span> i &lt; pre:</span><br><span class="line">                <span class="keyword">return</span> i</span><br><span class="line">            pre  =  i</span><br><span class="line">        <span class="keyword">return</span> numbers[<span class="number">0</span>]</span><br><span class="line">            </span><br></pre></td></tr></table></figure>

<p>备注：因为允许重复数字出现，本题不能使用二分法</p>
<p>比如说 [3,3,3,3,3,3,1,3]，无法判断最小值到底是在左边还是在右边</p>
<h2 id="test-cases-2"><a href="#test-cases-2" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[1,3,5]</span><br><span class="line">[2,3,4,1]</span><br><span class="line">[3,4,5,1,2]</span><br><span class="line">[0]</span><br><span class="line">[2,2,2,0,1]</span><br><span class="line">[2,2,2]</span><br><span class="line"># wrong answer</span><br><span class="line">[1,3,3]</span><br><span class="line">[3,1,3]</span><br><span class="line">[3,3,3,3,3,3,3,3,1,3]</span><br></pre></td></tr></table></figure>

<h1 id="剑指-Offer-12-矩阵中的路径"><a href="#剑指-Offer-12-矩阵中的路径" class="headerlink" title="剑指 Offer 12. 矩阵中的路径"></a><a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/ju-zhen-zhong-de-lu-jing-lcof/">剑指 Offer 12. 矩阵中的路径</a></h1><h2 id="solution-9"><a href="#solution-9" class="headerlink" title="solution"></a>solution</h2><p>使用 dfs 的思路求解，但需要注意的是两个细节。(a) 重复路径不是通过记录路径，而是通过标记路径，recursion之后再恢复来实现的，这样可以节省空间。(b) dfs 的深度是固定的 len(word)，已经遍历 matrix 来作为起始点了，所以遍历的深度不是遍历到无路可走而是没有按位符合 word 中的元素。</p>
<h3 id="dfs-recover-node"><a href="#dfs-recover-node" class="headerlink" title="dfs + recover node"></a>dfs + recover node</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># Time o(n*m*d) 92.83%</span></span><br><span class="line">    <span class="comment"># Space o(m*n) 48.64%</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">exist</span>(<span class="params">self, board: List[List[<span class="built_in">str</span>]], word: <span class="built_in">str</span></span>) -&gt; bool:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(board) == <span class="number">0</span> <span class="keyword">or</span> <span class="built_in">len</span>(word) == <span class="number">0</span>:</span><br><span class="line">           <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        m, n = <span class="built_in">len</span>(board), <span class="built_in">len</span>(board[<span class="number">0</span>])</span><br><span class="line">        </span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">x, y, cur</span>):</span></span><br><span class="line">            <span class="keyword">if</span> x&lt; <span class="number">0</span> <span class="keyword">or</span> x &gt;= m <span class="keyword">or</span> y &lt; <span class="number">0</span> <span class="keyword">or</span> y &gt;= n <span class="keyword">or</span> word[cur] != board[x][y]:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            ch = board[x][y]</span><br><span class="line">            board[x][y] = <span class="string">&#x27;&#x27;</span></span><br><span class="line">            </span><br><span class="line">            cur += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> cur == <span class="built_in">len</span>(word):</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    </span><br><span class="line">            ans = dfs(x+<span class="number">1</span>, y, cur) <span class="keyword">or</span> dfs(x-<span class="number">1</span>, y, cur) <span class="keyword">or</span> dfs(x, y+<span class="number">1</span>, cur) <span class="keyword">or</span> dfs(x, y-<span class="number">1</span>, cur)</span><br><span class="line">            board[x][y] = ch</span><br><span class="line">            <span class="keyword">return</span>  ans </span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> dfs(i, j, <span class="number">0</span>):</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">return</span>  <span class="literal">False</span></span><br><span class="line"> </span><br></pre></td></tr></table></figure>

<h2 id="test-cases-3"><a href="#test-cases-3" class="headerlink" title="test cases"></a>test cases</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[[&quot;a&quot;,&quot;b&quot;],[&quot;c&quot;,&quot;d&quot;]]</span><br><span class="line">&quot;dbac&quot;</span><br><span class="line">[[&quot;A&quot;,&quot;B&quot;,&quot;C&quot;,&quot;E&quot;],[&quot;S&quot;,&quot;F&quot;,&quot;C&quot;,&quot;S&quot;],[&quot;A&quot;,&quot;D&quot;,&quot;E&quot;,&quot;E&quot;]]</span><br><span class="line">&quot;ABCCED&quot;</span><br><span class="line"> [[&quot;a&quot;,&quot;b&quot;],[&quot;c&quot;,&quot;d&quot;]]</span><br><span class="line">&quot;abcd&quot;</span><br><span class="line">[[&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;e&quot;],[&quot;s&quot;,&quot;f&quot;,&quot;c&quot;,&quot;s&quot;],[&quot;a&quot;,&quot;d&quot;,&quot;e&quot;,&quot;e&quot;]]</span><br><span class="line">&quot;bafb&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Yiwei</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="https://hangzhi.github.io/2021/03/04/%E2%80%9C%E5%89%91%E6%8C%87Offer%E2%80%9D/">https://hangzhi.github.io/2021/03/04/%E2%80%9C%E5%89%91%E6%8C%87Offer%E2%80%9D/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a target="_blank" rel="noopener" href="http://creativecommons.org/licenses/by-nc/4.0/">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/%E7%AE%97%E6%B3%95/"># 算法</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2021/03/11/BookMarks/">BookMarks</a>
            
            
            <a class="next" rel="next" href="/2021/02/27/hello-world/">Hello World</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Yiwei | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a>
		<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
		<a id="busuanzi_container_site_pv"><a id="busuanzi_value_site_pv"></a> Views | </a>
		<a id="busuanzi_container_site_uv"> By <a id="busuanzi_value_site_uv"></a></span>	
    </div>
</footer>


    </div>
</body>
</html>
